(this.webpackJsonpbooking_frontend=this.webpackJsonpbooking_frontend||[]).push([[0],{109:function(e,t,a){e.exports=a.p+"static/media/flight.9ac22a94.jpg"},248:function(e,t,a){},330:function(e,t,a){},341:function(e,t,a){e.exports=a.p+"static/media/flight-loading.68025e4e.gif"},357:function(e,t,a){e.exports=a.p+"static/media/yeti-banner.3222e650.png"},358:function(e,t,a){e.exports=a.p+"static/media/buddha-banner.fb7a7aa4.png"},359:function(e,t,a){e.exports=a.p+"static/media/shree-banner.9f09c2bd.png"},363:function(e,t,a){e.exports=a.p+"static/media/404.1b673db5.jpg"},382:function(e,t,a){e.exports=a(616)},386:function(e,t,a){},606:function(e,t,a){},607:function(e,t,a){},608:function(e,t,a){},609:function(e,t,a){},611:function(e,t,a){},615:function(e,t,a){},616:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(21),c=a.n(r),s=(a(386),a(26)),o=a(111),i=a(11),m=a(10),u=a(12),d=a(13),p=a(28),h=a(14),E=a(19),f=a.n(E),b=a(92),g=a.n(b),v=a(135);var N="http://167.172.13.22";console.log("REACT_APP_BASE_URL","http://167.172.13.22");var y="".concat(N,"/api"),k="".concat(y,"/flights"),x=("".concat(y,"/members"),"".concat(N,"/users/auth/google_oauth2")),S="".concat(N,"/users/auth/facebook"),C="".concat(y,"/admin");"".concat(N,"/admin"),"".concat(N,"/payments");function O(e){return f()({method:"get",url:"".concat(k,"/search"),params:e,config:{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.token)}}})}function w(e){return f()({method:"get",url:"".concat(N,"/ticket_generation/").concat(e),config:{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.token)}}})}function j(e){return f()({method:"get",url:"".concat(N,"/admin/bookings?").concat(e),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.token)}})}a(116);var T=a(79),_=a(9);a(674),a(652);function D(e,t){return e=e.sort((function(e,a){var n=e[t].toUpperCase(),l=a[t].toUpperCase(),r=0;return n>l?r=1:n<l&&(r=-1),r}))}function F(e,t){t.defaults.headers.common["X-CSRF-TOKEN"]=function(e){return e.querySelector('[name="csrf-token"]')?e.querySelector('[name="csrf-token"]').content:null}(e)}function B(e){return"T"==e?"Refundable":"Non - Refundable"}function A(e){if(0==e.length)return{columns:[{label:"Name",field:"name",sort:"asc",width:150},{label:"Position",field:"position",sort:"asc",width:270},{label:"Office",field:"office",sort:"asc",width:200},{label:"Age",field:"age",sort:"asc",width:100},{label:"Start date",field:"date",sort:"asc",width:150},{label:"Salary",field:"salary",sort:"asc",width:100}],rows:[{name:"Tiger Nixon",position:"System Architect",office:"Edinburgh",age:"61",date:"2011/04/25",salary:"$320"},{name:"Garrett Winters",position:"Accountant",office:"Tokyo",age:"63",date:"2011/07/25",salary:"$170"},{name:"Ashton Cox",position:"Junior Technical Author",office:"San Francisco",age:"66",date:"2009/01/12",salary:"$86"},{name:"Cedric Kelly",position:"Senior Javascript Developer",office:"Edinburgh",age:"22",date:"2012/03/29",salary:"$433"},{name:"Airi Satou",position:"Accountant",office:"Tokyo",age:"33",date:"2008/11/28",salary:"$162"},{name:"Brielle Williamson",position:"Integration Specialist",office:"New York",age:"61",date:"2012/12/02",salary:"$372"},{name:"Herrod Chandler",position:"Sales Assistant",office:"San Francisco",age:"59",date:"2012/08/06",salary:"$137"},{name:"Rhona Davidson",position:"Integration Specialist",office:"Tokyo",age:"55",date:"2010/10/14",salary:"$327"},{name:"Colleen Hurst",position:"Javascript Developer",office:"San Francisco",age:"39",date:"2009/09/15",salary:"$205"},{name:"Sonya Frost",position:"Software Engineer",office:"Edinburgh",age:"23",date:"2008/12/13",salary:"$103"},{name:"Jena Gaines",position:"Office Manager",office:"London",age:"30",date:"2008/12/19",salary:"$90"},{name:"Quinn Flynn",position:"Support Lead",office:"Edinburgh",age:"22",date:"2013/03/03",salary:"$342"},{name:"Charde Marshall",position:"Regional Director",office:"San Francisco",age:"36",date:"2008/10/16",salary:"$470"},{name:"Haley Kennedy",position:"Senior Marketing Designer",office:"London",age:"43",date:"2012/12/18",salary:"$313"},{name:"Tatyana Fitzpatrick",position:"Regional Director",office:"London",age:"19",date:"2010/03/17",salary:"$385"},{name:"Michael Silva",position:"Marketing Designer",office:"London",age:"66",date:"2012/11/27",salary:"$198"},{name:"Paul Byrd",position:"Chief Financial Officer (CFO)",office:"New York",age:"64",date:"2010/06/09",salary:"$725"},{name:"Gloria Little",position:"Systems Administrator",office:"New York",age:"59",date:"2009/04/10",salary:"$237"},{name:"Bradley Greer",position:"Software Engineer",office:"London",age:"41",date:"2012/10/13",salary:"$132"},{name:"Dai Rios",position:"Personnel Lead",office:"Edinburgh",age:"35",date:"2012/09/26",salary:"$217"},{name:"Jenette Caldwell",position:"Development Lead",office:"New York",age:"30",date:"2011/09/03",salary:"$345"},{name:"Yuri Berry",position:"Chief Marketing Officer (CMO)",office:"New York",age:"40",date:"2009/06/25",salary:"$675"},{name:"Caesar Vance",position:"Pre-Sales Support",office:"New York",age:"21",date:"2011/12/12",salary:"$106"},{name:"Doris Wilder",position:"Sales Assistant",office:"Sidney",age:"23",date:"2010/09/20",salary:"$85"},{name:"Angelica Ramos",position:"Chief Executive Officer (CEO)",office:"London",age:"47",date:"2009/10/09",salary:"$1"},{name:"Gavin Joyce",position:"Developer",office:"Edinburgh",age:"42",date:"2010/12/22",salary:"$92"},{name:"Jennifer Chang",position:"Regional Director",office:"Singapore",age:"28",date:"2010/11/14",salary:"$357"},{name:"Brenden Wagner",position:"Software Engineer",office:"San Francisco",age:"28",date:"2011/06/07",salary:"$206"},{name:"Fiona Green",position:"Chief Operating Officer (COO)",office:"San Francisco",age:"48",date:"2010/03/11",salary:"$850"},{name:"Shou Itou",position:"Regional Marketing",office:"Tokyo",age:"20",date:"2011/08/14",salary:"$163"},{name:"Michelle House",position:"Integration Specialist",office:"Sidney",age:"37",date:"2011/06/02",salary:"$95"},{name:"Suki Burks",position:"Developer",office:"London",age:"53",date:"2009/10/22",salary:"$114"},{name:"Prescott Bartlett",position:"Technical Author",office:"London",age:"27",date:"2011/05/07",salary:"$145"},{name:"Gavin Cortez",position:"Team Leader",office:"San Francisco",age:"22",date:"2008/10/26",salary:"$235"},{name:"Martena Mccray",position:"Post-Sales support",office:"Edinburgh",age:"46",date:"2011/03/09",salary:"$324"},{name:"Unity Butler",position:"Marketing Designer",office:"San Francisco",age:"47",date:"2009/12/09",salary:"$85"},{name:"Howard Hatfield",position:"Office Manager",office:"San Francisco",age:"51",date:"2008/12/16",salary:"$164"},{name:"Hope Fuentes",position:"Secretary",office:"San Francisco",age:"41",date:"2010/02/12",salary:"$109"},{name:"Vivian Harrell",position:"Financial Controller",office:"San Francisco",age:"62",date:"2009/02/14",salary:"$452"},{name:"Timothy Mooney",position:"Office Manager",office:"London",age:"37",date:"2008/12/11",salary:"$136"},{name:"Jackson Bradshaw",position:"Director",office:"New York",age:"65",date:"2008/09/26",salary:"$645"},{name:"Olivia Liang",position:"Support Engineer",office:"Singapore",age:"64",date:"2011/02/03",salary:"$234"},{name:"Bruno Nash",position:"Software Engineer",office:"London",age:"38",date:"2011/05/03",salary:"$163"},{name:"Sakura Yamamoto",position:"Support Engineer",office:"Tokyo",age:"37",date:"2009/08/19",salary:"$139"},{name:"Thor Walton",position:"Developer",office:"New York",age:"61",date:"2013/08/11",salary:"$98"},{name:"Finn Camacho",position:"Support Engineer",office:"San Francisco",age:"47",date:"2009/07/07",salary:"$87"},{name:"Serge Baldwin",position:"Data Coordinator",office:"Singapore",age:"64",date:"2012/04/09",salary:"$138"},{name:"Zenaida Frank",position:"Software Engineer",office:"New York",age:"63",date:"2010/01/04",salary:"$125"},{name:"Zorita Serrano",position:"Software Engineer",office:"San Francisco",age:"56",date:"2012/06/01",salary:"$115"},{name:"Jennifer Acosta",position:"Junior Javascript Developer",office:"Edinburgh",age:"43",date:"2013/02/01",salary:"$75"},{name:"Cara Stevens",position:"Sales Assistant",office:"New York",age:"46",date:"2011/12/06",salary:"$145"},{name:"Hermione Butler",position:"Regional Director",office:"London",age:"47",date:"2011/03/21",salary:"$356"},{name:"Lael Greer",position:"Systems Administrator",office:"London",age:"21",date:"2009/02/27",salary:"$103"},{name:"Jonas Alexander",position:"Developer",office:"San Francisco",age:"30",date:"2010/07/14",salary:"$86"},{name:"Shad Decker",position:"Regional Director",office:"Edinburgh",age:"51",date:"2008/11/13",salary:"$183"},{name:"Michael Bruce",position:"Javascript Developer",office:"Singapore",age:"29",date:"2011/06/27",salary:"$183"},{name:"Donna Snider",position:"Customer Support",office:"New York",age:"27",date:"2011/01/25",salary:"$112"}]};var t=Object.keys(e[0]).map((function(e){return{label:e.toUpperCase(),field:e,sort:"asc",width:150}}));JSON.parse(JSON.stringify(e).replace(/null/g,'""'));return{columns:t,rows:e}}var U=Object(s.b)((function(e){return{searchDetails:e.flightStore.searchDetails}}),(function(){return{}}))((function(e){e.type;var t=e.flight,a=(e.selected,e.onFlightSelect,e.onFlightDeselect,e.onViewDetails),n=e.searchDetails;return console.log(t),l.a.createElement("div",{className:"flight-card",key:t.FlightNo,onClick:function(){return a("OUTBOUND",t)}},l.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},l.a.createElement("div",{className:"col-2 no-padding"},l.a.createElement("img",{src:t.AirlineLogo,className:"w-100 p-2"})),l.a.createElement("div",{className:"col-6 no-padding"},l.a.createElement("div",{className:"d-flex justify-content-between"},l.a.createElement("span",null,t.DepartureTime),l.a.createElement("span",{className:"line-from-to"}),l.a.createElement("span",null,t.ArrivalTime)),l.a.createElement("div",{className:"d-flex justify-content-between"},l.a.createElement("span",{className:"text-small text-muted"},n.strSectorFrom),l.a.createElement("span",{className:"text-small m-auto"},t.duration," min"),l.a.createElement("span",{className:"text-small text-muted"},n.strSectorTo))),l.a.createElement("div",{className:"col-4 no-padding text-center"},l.a.createElement("div",{className:""},t.Currency,":\xa0",l.a.createElement("span",{className:"text-strong"},t.total_fare),l.a.createElement("div",{class:"text-smaller text-muted"},B(t.Refundable))))))})),R=Object(s.b)((function(e){return{searchDetails:e.flightStore.searchDetails}}),(function(){return{}}))((function(e){e.type;var t=e.flight,a=(e.selected,e.onFlightSelect,e.onFlightDeselect,e.onViewDetails),n=e.searchDetails,r=t.inbound,c=t.outbound;return l.a.createElement("div",{className:"flight-card d-flex align-items-center",onClick:function(){return a("COMBINATION",t)}},l.a.createElement("div",{className:"flex-grow-1"},l.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},l.a.createElement("div",{className:"no-padding"},l.a.createElement("img",{src:r.AirlineLogo,className:"w-100 p-2"})),l.a.createElement("div",{className:"flex-grow-1"},l.a.createElement("div",{className:"d-flex no-padding"},l.a.createElement("span",{className:""},r.DepartureTime),l.a.createElement("span",{className:"line-from-to"}),l.a.createElement("span",null,r.ArrivalTime)),l.a.createElement("div",{className:"d-flex justify-content-between"},l.a.createElement("span",{className:"text-small text-muted"},n.strSectorFrom),l.a.createElement("span",{className:"text-small m-auto"},r.duration," min"),l.a.createElement("span",{className:"text-small text-muted"},n.strSectorTo)))),l.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},l.a.createElement("div",{className:"no-padding"},l.a.createElement("img",{src:c.AirlineLogo,className:"w-100 p-2"})),l.a.createElement("div",{className:"flex-grow-1"},l.a.createElement("div",{className:"d-flex no-padding"},l.a.createElement("span",{className:""},c.DepartureTime),l.a.createElement("span",{className:"line-from-to"}),l.a.createElement("span",null,c.ArrivalTime)),l.a.createElement("div",{className:"d-flex justify-content-between"},l.a.createElement("span",{className:"text-small text-muted"},n.strSectorTo),l.a.createElement("span",{className:"text-small m-auto"},c.duration," min"),l.a.createElement("span",{className:"text-small text-muted"},n.strSectorFrom))))),l.a.createElement("div",{className:""},l.a.createElement("div",{className:"text-center"},l.a.createElement("div",{className:"p-2"},c.Currency,":\xa0",l.a.createElement("span",{className:"text-strong "},t.total_fare),l.a.createElement("div",{class:"text-smaller text-muted"},B(t.Refundable))))))})),I=a(227),L=a(658),P=a(673),M=a(653),q=a(654),V=a(655),Y=a(656),G=function(e){var t=e.title,a=e.buttonLabel,n=e.className,r=e.show,c=e.children,s=e.toggle,o=e.onSuccess;return l.a.createElement("div",null,l.a.createElement(P.a,{size:"lg",isOpen:r,toggle:s,className:n,backdrop:!0},l.a.createElement(M.a,{toggle:s}," ",t," "),l.a.createElement(q.a,{style:{display:"block"}},c),l.a.createElement(V.a,null,l.a.createElement(Y.a,{color:"primary",onClick:function(){o()}},a))))},K=a(121),H=a(49),z=function(e,t){var a=new Date(e);return a.setDate(a.getDate()+t),a}(new Date,1),W={flights:{outbounds:[],inbounds:[],combinations:[]},selectedInboundFlight:null,selectedOutboundFlight:null,searchDetails:{strTripType:"O",strFlightDate:z,strReturnDate:z,strNationality:"NP",intAdult:1,intChild:0,strSectorFrom:"KTM",strSectorTo:"PKR"},ttlTime:0},J={booking:null,currency:"NPR",language:"ENG"},X={currentUser:{}};var Q={countries:[]},Z=Object(K.b)({flightStore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SEARCH_DETAILS":return Object(H.a)({},e,{searchDetails:t.payload});case"SET_FLIGHTS":return Object(H.a)({},e,{flights:Object.assign({},e.flights,{outbounds:t.payload.outbounds,inboutnds:t.payload.inbounds,combinations:t.payload.combinations})});case"SELECT_INBOUND_FLIGHT":return Object(H.a)({},e,{selectedInboundFlight:t.payload});case"SELECT_OUTBOUND_FLIGHT":return Object(H.a)({},e,{selectedOutboundFlight:t.payload});case"DESELECT_INTBOUND_FLIGHT":return Object(H.a)({},e,{selectedInboundFlight:null});case"DESELECT_OUTBOUND_FLIGHT":return Object(H.a)({},e,{selectedOutboundFlight:null});case"SET_TIMEOUT":return Object(H.a)({},e,{ttlTime:t.payload});default:return e}},bookingStore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_BOOKING":return Object(H.a)({},e,{booking:t.payload});case"SET_CURRENCY":return Object(H.a)({},e,{currency:t.payload});case"SET_LANGUAGE":return Object(H.a)({},e,{language:t.payload});default:return e}},userStore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t,"action--------------"),t.type){case"LOGIN_USER":return console.log(t,"reduce"),Object.assign({},e,{currentUser:t.payload});case"UPDATE_USER":return Object(H.a)({},e,{currentUser:Object.assign({},e.currentUser,t.payload)});case"LOGOUT_USER":return Object.assign({},e,{currentUser:{}});default:return e}},extras:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_COUNTRIES":return Object(H.a)({},e,{countries:t.payload});default:return e}}}),ee=Object(K.c)(window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),te=Object(K.d)(Z,ee),ae=Object(s.b)((function(e){var t=e.flightStore;return{adult:t.searchDetails.intAdult,child:t.searchDetails.intChild}}),{})((function(e){var t=e.flight,a=e.adult,n=e.child;return l.a.createElement("div",{className:"flight-details"},l.a.createElement("div",{className:"header d-flex justify-content-between align-items-center text-small text-muted"},l.a.createElement("span",null,l.a.createElement("img",{src:t.AirlineLogo,className:"p-2"}),l.a.createElement("div",{className:"text-center"},t.FlightNo,"(",t.FlightClassCode,")")),l.a.createElement("span",{className:""}," ",t.FlightDate," "),l.a.createElement("span",{className:"text-center"},"Class: ",t.FlightClassCode,l.a.createElement("div",{className:"text-bold text-success"},B(t.Refundable)),l.a.createElement("div",null,"FreeBaggage: ",t.FreeBaggage))),l.a.createElement("hr",null),l.a.createElement("div",{className:"body"},l.a.createElement("div",{class:"d-flex justify-content-between align-items-center"},l.a.createElement("span",{className:"text-center"},t.DepartureTime," ",l.a.createElement("div",{className:"text-bold"},t.Departure)),l.a.createElement("span",{class:"text-small text-muted"},t.duration," min"),l.a.createElement("span",{className:"text-center"},t.ArrivalTime,l.a.createElement("div",{className:"text-bold"},t.Arrival))),l.a.createElement("div",{className:"text-center text-small text-muted"}),l.a.createElement("hr",null),l.a.createElement("div",null,l.a.createElement("span",{className:"text-center p-3"},l.a.createElement("div",{className:"text-bold"},"Total Fare: ",t.Currency," ",t.total_fare),l.a.createElement("div",{className:"text-small text-muted"},"(",a," Adult, ",n," Child)")),l.a.createElement("ul",{className:"text-muted text-small"},a>0&&l.a.createElement("li",null,"Base Fare (1 Adult): ",t.Currency," ",t.AdultFare," x (",a,")"),n>0&&l.a.createElement("li",null,"Base Fare (1 Child): ",t.Currency," ",t.ChildFare," x (",n,")"),l.a.createElement("li",null,"Fuel Surcharge: ",t.Currency," ",t.FuelSurcharge," x (",a," + ",n,")"),l.a.createElement("li",null,"Tax: ",t.Currency," ",t.Tax," x (",a," + ",n,")")))))})),ne=Object(s.b)((function(e){var t=e.flightStore;return{adult:t.searchDetails.intAdult,child:t.searchDetails.intChild}}),{})((function(e){var t=e.adult,a=e.child,n=e.flight,r=n.inbound,c=n.outbound;return l.a.createElement("div",{className:"flight-details"},l.a.createElement("span",{className:"text-bold"},"Departure:"),l.a.createElement("hr",null),l.a.createElement("div",{className:"header d-flex justify-content-between align-items-center text-small text-muted"},l.a.createElement("span",null,l.a.createElement("img",{src:r.AirlineLogo,className:"p-2"}),l.a.createElement("div",{className:"text-center"},r.FlightNo,"(",r.FlightClassCode,")")),l.a.createElement("span",{className:""}," ",r.FlightDate," "),l.a.createElement("span",{className:"text-center"},"Class: ",r.FlightClassCode,l.a.createElement("div",{className:"text-bold text-success"},B(r.Refundable)),l.a.createElement("div",null,"FreeBaggage: ",r.FreeBaggage))),l.a.createElement("hr",null),l.a.createElement("div",{className:"body"},l.a.createElement("div",{class:"d-flex justify-content-between align-items-center"},l.a.createElement("span",{className:"text-center"},r.DepartureTime," ",l.a.createElement("div",{className:"text-bold"},r.Departure)),l.a.createElement("span",{class:"text-small text-muted"},r.duration," min"),l.a.createElement("span",{className:"text-center"},r.ArrivalTime,l.a.createElement("div",{className:"text-bold"},r.Arrival))),l.a.createElement("div",{className:"text-center text-small text-muted"}),l.a.createElement("hr",null),l.a.createElement("div",null,l.a.createElement("span",{className:"text-center p-3"},l.a.createElement("div",{className:"text-bold"},"Total Fare: ",r.Currency," ",r.total_fare),l.a.createElement("div",{className:"text-small text-muted"},"(",t," Adult, ",a," Child)")),l.a.createElement("ul",{className:"text-muted text-small"},t>0&&l.a.createElement("li",null," Base Fare (1 Adult): ",r.AdultFare," "),a>0&&l.a.createElement("li",null," Base Fare (1 Child): ",r.ChildFare," "),l.a.createElement("li",null," Fuel Surcharge: ",r.FuelSurcharge," "),l.a.createElement("li",null," Tax: ",r.Tax," ")))),l.a.createElement("hr",null),l.a.createElement("span",{className:"text-bold"},"Arrival:"),l.a.createElement("hr",null),l.a.createElement("div",{className:"header d-flex justify-content-between align-items-center text-small text-muted"},l.a.createElement("span",null,l.a.createElement("img",{src:c.AirlineLogo,className:"p-2"}),l.a.createElement("div",{className:"text-center"},c.FlightNo,"(",c.FlightClassCode,")")),l.a.createElement("span",{className:""}," ",r.FlightDate," "),l.a.createElement("span",{className:"text-center"},"Class: ",c.FlightClassCode,l.a.createElement("div",{className:"text-bold text-success"},B(c.Refundable)),l.a.createElement("div",null,"FreeBaggage: ",r.FreeBaggage))),l.a.createElement("hr",null),l.a.createElement("div",{className:"body"},l.a.createElement("div",{class:"d-flex justify-content-between align-items-center"},l.a.createElement("span",{className:"text-center"},c.DepartureTime," ",l.a.createElement("div",{className:"text-bold"},c.Departure)),l.a.createElement("span",{class:"text-small text-muted"},c.duration," min"),l.a.createElement("span",{className:"text-center"},c.ArrivalTime,l.a.createElement("div",{className:"text-bold"},c.Arrival))),l.a.createElement("div",{className:"text-center text-small text-muted"}),l.a.createElement("hr",null),l.a.createElement("div",null,l.a.createElement("span",{className:"text-center p-3"},l.a.createElement("div",{className:"text-bold"},"Total Fare: ",c.Currency,": ",c.total_fare),l.a.createElement("div",{className:"text-small text-muted"},"(",t," Adult, ",a," Child)")),l.a.createElement("ul",{className:"text-muted text-small"},t>0&&l.a.createElement("li",null," Base Fare (1 Adult): ",c.AdultFare," "),a>0&&l.a.createElement("li",null," Base Fare (1 Child): ",c.ChildFare," "),l.a.createElement("li",null," Fuel Surcharge: ",c.FuelSurcharge," "),l.a.createElement("li",null," Tax: ",c.Tax," ")))))})),le=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={searchTerm:"",sortKey:"NONE",isSortReverse:!1},a.onSearchChange=a.onSearchChange.bind(Object(p.a)(a)),a.onDismiss=a.onDismiss.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"onSearchChange",value:function(e){this.setState({searchTerm:e.target.value})}},{key:"onDismiss",value:function(e){var t=this.state.list.filter((function(t){return t.objectID!==e}));this.setState({list:t})}},{key:"render",value:function(){var e=this.props,t=e.values,a=e.ChildComponent,n=Object(_.a)(e,["values","ChildComponent"]),r=this.state,c=(r.sortKey,r.isSortReverse,r.searchTerm,t);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:""},c.map((function(e){return l.a.createElement(a,Object.assign({},n,{flight:e}))}))))}}]),t}(n.Component),re=function(e){return{type:"SET_TIMEOUT",payload:e}},ce=a(663),se=a(52),oe=a(184),ie=a.n(oe),me=function(e){var t=e.date,a=e.onChange,r=Object(_.a)(e,["date","onChange"]),c=Object(n.useState)(t),s=Object(se.a)(c,2),o=s[0],i=s[1];return l.a.createElement(ie.a,Object.assign({selected:o,onChange:function(e){i(e),a(e)}},r))},ue=a(22),de=function(e){var t=e.name;return l.a.createElement("span",{className:"validation-msg"},l.a.createElement(ue.a,{name:t}))},pe=a(30),he=a(56),Ee=Object(he.a)({}),fe=a(657),be=function(e){var t=e.className,a=e.title,n=e.value,r=e.onChange,c=Object(_.a)(e,["className","title","value","onChange"]);return l.a.createElement("div",{className:"counter d-flex justify-content-between align-items-center ".concat(t)},l.a.createElement("span",{className:"btn btn-primary",onClick:function(){r(n-1<0?0:n-1)}},"-"),l.a.createElement("span",Object.assign({className:"title p-2 text-center","aria-label":""},c),a),l.a.createElement("span",{className:"btn btn-primary",onClick:function(){r(n+1)}},"+"))};var ge=function(e){var t=e.children,a=e.className,r=e.icon,c=e.title,s=(e.position,Object(_.a)(e,["children","className","icon","title","position"]),Object(n.useState)(!1)),o=Object(se.a)(s,2),i=o[0],m=o[1],u=Object(n.useRef)(null);return function(e,t){function a(t){e.current&&!e.current.contains(t.target)&&$(e.current).addClass("d-none")}Object(n.useEffect)((function(){if(t)return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}}))}(u,i),l.a.createElement("div",{style:{position:"relative"}},l.a.createElement("div",{className:"custom-dropdown ".concat(a),onClick:function(){return m(!i)}},l.a.createElement("i",{className:"".concat(r," m-0")})," ",c," ",l.a.createElement("i",{className:"icon-chevron-down"})),l.a.createElement("div",{ref:u,className:"custom-dropdown-menu right-0 ".concat(i?"open":"d-none")},t))},ve=function(e){var t=e.icon,a=void 0===t?"icon-paper-plane icon":t,n=e.iconPosition,r=void 0===n?"left":n,c=e.children;return l.a.createElement("div",{class:"icon-input d-flex form-control align-items-center py-0"},"left"==r&&l.a.createElement("i",{"aria-hidden":"true",class:a}),c,"right"==r&&l.a.createElement("i",{"aria-hidden":"true",class:a}))},Ne=a(677),ye=a(669),ke=a(69),xe=a.n(ke),Se=a(341),Ce=a.n(Se),Oe=function(){return l.a.createElement("div",{className:"container text-center"},l.a.createElement("img",{src:Ce.a,width:"100",height:"100"}))},we=a(342),je=a.n(we),Te=a(671),_e=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).fetchCities=function(){f.a.get("".concat(k,"/sectors"),{crossdomain:!0,headers:{"Access-Control-Allow-Origin":"*"}}).then((function(e){a.setState({cities:e.data.Sector}),console.log(e.data.Sector)})).catch((function(e){console.log(e),a.setState({error:e})}))},a.changeTripType=function(e){a.setState({tripType:e,hideReturnField:"O"==e})},a.toggleTripType=function(){var e="R"==a.state.tripType?"O":"R";return a.setState((function(e){return{tripType:"R"==e.tripType?"O":"R",hideReturnField:!e.hideReturnField}})),e},a.toggleSectors=function(){a.strSectorFrom.current,console.log("Changed SearchDetails",a.state.searchDetails),a.props.setSearchDetails(Object.assign({},a.state.searchDetails,{strSectorFrom:a.state.searchDetails.strSectorTo,strSectorTo:a.state.searchDetails.strSectorFrom}))};var n=new Date;return n.setDate(n.getDate()+2),a.state={cities:[],hideReturnField:!0,isSubmitted:!1,availableFlights:[],searching:!1,tripType:"O"},a.strSectorFrom=l.a.createRef(),a.strSectorTo=l.a.createRef(),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){F(document,f.a),this.setState({searchDetails:this.props.searchDetails}),this.fetchCities()}},{key:"render",value:function(){var e=this,t=this.state,a=t.hideReturnField,n=t.searching,r=this.props,c=r.searchDetails,s=r.countries;console.log("Search Details",c);var o=pe.d().shape({strFlightDate:pe.b().required("Required").default((function(){return new Date})),strReturnDate:pe.b().required("Required").default((function(){return pe.e("strFlightDate")})),strSectorFrom:pe.f().required("Required"),strSectorTo:pe.f().required("Required"),strNationality:pe.f().required("Required"),intAdult:pe.c().min(1,"Cannot be less than 1").required("Required"),intChild:pe.c().min(0,"Cannot be less than 0").required("Required")});return l.a.createElement("div",{id:"search-flight-form"},n&&l.a.createElement(je.a,{showCancel:!1,title:"Searching Flights",onConfirm:console.log("Confirm")},l.a.createElement(Oe,null)),l.a.createElement(ue.d,{initialValues:c,validationSchema:o,onSubmit:function(t,a){var n=a.setSubmitting;e.setState({isSubmitted:!0,searching:!0}),console.log(t),e.props.setSearchDetails(t),O(t).then((function(t){n(!1),e.props.setFlights(t.data.data),e.props.setTTLtime(0),e.setState({searching:!1,availableFlights:t.data.data}),Ee.push("/flights")})).catch((function(t){console.log("Search Flight Error",t),n(!1),e.setState({searching:!1}),swal({title:"No Flights Found!",text:"Something went wrong",icon:"error",button:"Try Again!"})}))}},(function(t){var n=t.values,r=(t.errors,t.touched,t.handleChange),c=t.handleBlur,o=t.handleSubmit,i=t.isSubmitting,m=t.setFieldValue;return l.a.createElement("form",{onSubmit:o,autoComplete:"off"},l.a.createElement(fe.a,{className:"d-none d-md-block","aria-label":"Basic example"},l.a.createElement(L.a,{type:"button",variant:"secondary",className:"btn btn-secondary btn-sm",onClick:function(){m("strTripType","O"),e.changeTripType("O")}},"One Way"),l.a.createElement(L.a,{type:"button",variant:"secondary",className:"btn btn-secondary btn-sm",onClick:function(){m("strTripType","R"),e.changeTripType("R")}},"Return")),l.a.createElement("div",{className:"input-section"},l.a.createElement("div",{className:"field-box"},l.a.createElement("label",null,"Going from"),l.a.createElement(ve,{icon:"icon-paper-plane",iconPosition:"left"},l.a.createElement(ue.b,{as:"select",name:"strSectorFrom",className:"form-control",onBlur:c,onChange:r,value:n.strSectorFrom,ref:e.strSectorFrom,defaultValue:""},l.a.createElement("option",{value:"",disabled:!0},"Going From"),e.state.cities.map((function(e){return l.a.createElement("option",{key:e.SectorCode,value:e.SectorCode},e.SectorName)})),l.a.createElement(de,{name:"strSectorFrom"}))),l.a.createElement("div",null,l.a.createElement("div",{className:"toggle-sector"},l.a.createElement("i",{className:"fas fa-exchange-alt",onClick:function(){m("strSectorTo",n.strSectorFrom),m("strSectorFrom",n.strSectorTo)}})))),l.a.createElement("div",{className:"field-box"},l.a.createElement("label",null,"Going To"),l.a.createElement(ve,{icon:"icon-paper-plane",iconPosition:"left"},l.a.createElement(ue.b,{as:"select",name:"strSectorTo",className:"form-control",onBlur:c,onChange:r,value:n.strSectorTo,ref:e.strSectorTo,defaultValue:""},l.a.createElement("option",{value:"",disabled:!0},"Going To"),e.state.cities.map((function(e){return l.a.createElement("option",{key:e.SectorCode,value:e.SectorCode},e.SectorName)})))),l.a.createElement(de,{name:"strSectorTo"})),l.a.createElement("div",{className:"field-box"},l.a.createElement("label",null,"Departure Date"),l.a.createElement(ve,{icon:"icon-calendar",iconPosition:"left"},l.a.createElement(me,{name:"strFlightDate",className:"form-control",type:"date",date:n.strFlightDate,minDate:new Date,format:"dd-mm-YYYY",onBlur:c,onChange:function(e){return m("strFlightDate",e)},value:xe()(n.strFlightDate).format("D MMM, YYYY"),placeholder:"Departure Date"})),l.a.createElement(de,{name:"strFlightDate"})),l.a.createElement("div",null,l.a.createElement("div",{className:"toggle-trip"},l.a.createElement(Ne.a,{control:l.a.createElement(ye.a,{checked:"R"==e.state.tripType,onChange:function(){m("strTripType",e.toggleTripType())},value:e.state.tripType})}),l.a.createElement("span",{class:"label"},"Round Trip?"))),l.a.createElement("div",{className:"field-box ".concat(a?"d-none":"")},l.a.createElement("label",null,"Arrival Date"),l.a.createElement(ve,{icon:"icon-calendar",iconPosition:"left"},l.a.createElement(me,{name:"strReturnDate",className:"form-control",type:"date",format:"dd-mm-YYYY",date:n.strFlightDate,minDate:new Date,onBlur:c,onChange:function(e){return m("strReturnDate",e)},value:xe()(n.strReturnDate).format("D MMM, YYYY"),disabled:a,placeholder:"Arrival Date"})),l.a.createElement(de,{name:"strReturnDate"})),l.a.createElement("div",{className:"field-box"},l.a.createElement("label",null,"Adult/Child"),l.a.createElement(ve,{icon:"icon-users",iconPosition:"left"},l.a.createElement(ge,{title:"".concat(n.intAdult+n.intChild," Traveller"),className:"text-field px-3"},l.a.createElement(be,{id:"intAdult",type:"number",className:"m-1",onBlur:c,title:"".concat(n.intAdult," Adult"),onChange:function(e){return m("intAdult",e)},value:n.intAdult}),l.a.createElement(be,{id:"intChild",type:"number",className:"m-1",onBlur:c,title:"".concat(n.intChild," Child"),onChange:function(e){return m("intChild",e)},value:n.intChild}))),l.a.createElement(de,{name:"intAdult"}),l.a.createElement(de,{name:"intChild"})),l.a.createElement("div",{className:"field-box"},l.a.createElement("label",{htmlFor:""},"Nationality"),l.a.createElement(Te.a,{className:"form-control",name:"strNationality",placeholder:"Select Country",onBlur:c,onChange:function(e,t){m("strNationality",t.value)},value:n.strNationality,fluid:!0,search:!0,selection:!0,options:s.map((function(e){return{key:e.id,value:e.country_char,flag:e.country_char.toLowerCase(),text:e.name}}))}),l.a.createElement(de,{name:"strNationality"}))),l.a.createElement("div",{class:"text-center"},l.a.createElement("button",{className:"search-btn btn btn-secondary m-2",type:"submit",disabled:i},"Search")))})))}}]),t}(n.Component),De={setFlights:function(e){return{type:"SET_FLIGHTS",payload:e}},setSearchDetails:function(e){return{type:"SET_SEARCH_DETAILS",payload:e}},setTTLtime:re},Fe=Object(s.b)((function(e){var t=e.flightStore,a=e.extras;return{flights:t.flights,searchDetails:t.searchDetails,ttlTime:t.ttlTime,countries:a.countries}}),De)(_e),Be=a(357),Ae=a.n(Be),Ue=a(358),Re=a.n(Ue),Ie=a(359),Le=a.n(Ie),Pe=function(e){function t(e){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).call(this,e))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("header",{id:"header",className:"cover",role:"banner"},l.a.createElement(ce.a,null,l.a.createElement("div",{className:"text-white mb-2"},"Find and book domestic flights within Nepal at best price."),l.a.createElement("div",{className:"airline-logos d-none"},l.a.createElement("img",{src:Ae.a,alt:"Image",className:"img-responsive"}),l.a.createElement("img",{src:Re.a,alt:"Image",className:"img-responsive"}),l.a.createElement("img",{src:Le.a,alt:"Image",className:"img-responsive"})),l.a.createElement(Fe,null))))}}]),t}(n.Component),Me=Object(s.b)((function(e){return{details:e.flightStore.searchDetails}}),(function(){return{}}))((function(e){var t=e.details,a=e.collapsed,r=Object(n.useState)(!a),c=Object(se.a)(r,2),s=c[0],o=c[1];return s?l.a.createElement(Fe,null):l.a.createElement("div",{className:"flight-card"},l.a.createElement("div",{className:"d-flex justify-content-around align-items-center p-3"},l.a.createElement("div",null,l.a.createElement("div",{className:""},l.a.createElement("span",{className:"text-bold px-2"},"".concat(t.strSectorFrom)),l.a.createElement("i",{className:"O"===t.strTripType?"fas fa-arrow-circle-right":"fas fa-exchange-alt"}),l.a.createElement("span",{className:"text-bold px-2"}," ","".concat(t.strSectorTo))),l.a.createElement("div",null,l.a.createElement("span",{className:"text-small text-muted px-2"},l.a.createElement("i",{class:"fas fa-plane-departure"}),"\xa0","".concat(xe()(t.strFlightDate).format("Do MMMM, YYYY"))),"R"===t.strTripType&&l.a.createElement("span",{className:"text-small text-muted px-2"},l.a.createElement("i",{class:"fas fa-plane-arrival"}),"\xa0","".concat(xe()(t.strReturnDate).format("Do MMMM, YYYY"))),l.a.createElement("span",{className:"text-small text-muted px-2"},l.a.createElement("i",{class:"fas fa-male"}),"\xa0",t.intAdult," Adult,",t.intChild," Child"))),l.a.createElement("div",null,l.a.createElement("i",{className:"icon-edit",onClick:function(){return o(!0)}}))))})),qe=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.children;return l.a.createElement("div",{className:"jumbotron text-center"},e)}}]),t}(n.Component),$e=a(668);a(248);var Ve={NONE:function(e){return e},PRICE:function(e){return Object(I.sortBy)(e,"total_fare")},TIME:function(e){return Object(I.sortBy)(e,"DepartureTime")},DURATION:function(e){return Object(I.sortBy)(e,"duration")}},Ye=[{key:"PRICE",label:"Cheapest"},{key:"TIME",label:"Quickest"},{key:"DURATION",label:"Earliest"}],Ge=function(e){var t=e.sortKey,a=e.onSort,n=e.isActive,r=e.children;return l.a.createElement(L.a,{variant:"secondary",className:n?"active":"",onClick:function(){return a(t)}},r)},Ke=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={selectedFlight:null,sortKey:"PRICE",isSortReverse:!1},a.onFlightDeselect=a.onFlightDeselect.bind(Object(p.a)(a)),a.onViewDetails=a.onViewDetails.bind(Object(p.a)(a)),a.onSort=a.onSort.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"onSort",value:function(e){var t=this.state.sortKey===e&&!this.state.isSortReverse;this.setState({sortKey:e,isSortReverse:t})}},{key:"onFlightDeselect",value:function(e){this.props.deselectFlight(e)}},{key:"onViewDetails",value:function(e,t){switch(e){case"OUTBOUND":this.props.selectOutboundFlight(t);break;case"INBOUND":this.props.selectInboundFlight(t);break;case"COMBINATION":this.props.selectInboundFlight(t.inbound),this.props.selectOutboundFlight(t.outbound)}this.setState((function(e,a){return{selectedFlight:null==e.selectedFlight?t:null}}))}},{key:"onBook",value:function(){Ee.push("/book_flight")}},{key:"componentDidMount",value:function(){"complete"===document.readyState&&Tawk_API.hideWidget()}},{key:"render",value:function(){var e=this,t=this.props,a=t.outboundFlights,n=(t.inboundFlights,t.combinations),r=(t.selectedInboundFlight,t.selectedOutboundFlight,this.state),c=r.sortKey,s=r.isSortReverse,i=a,m="OUTBOUND",u=U,d=ae;n.length>0&&(i=n,m="COMBINATION",u=R,d=ne);var p=Ve[c](i),h=s?p.reverse():p,E=h.map((function(e){return e.Airline}));return 0==h.length?l.a.createElement(o.a,{to:"/"}):l.a.createElement("div",{className:"container p-0"},l.a.createElement(Me,{collapsed:!0}),l.a.createElement("div",{class:"bg-secondary text-center sorter d-md-none"},Ye.map((function(t){var a=t.key,n=t.label;return l.a.createElement(Ge,{sortKey:a,onSort:e.onSort,isActive:c==a},n)}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-0 col-md-2 bg-white p-0 d-none d-md-block"},l.a.createElement("div",{className:"card filter-flights"},l.a.createElement("div",{className:"card-header"},"Filter"),l.a.createElement("div",{className:"card-body"},l.a.createElement("span",{className:"text-bold"},"Sort By"),l.a.createElement(ge,{title:c,className:"text-field"},Ye.map((function(t){var a=t.key,n=t.label;return l.a.createElement("div",{className:"p-2 menu-item ".concat(c==a?"active":""),onClick:function(){return e.onSort(a)}},n)}))),l.a.createElement("hr",null),l.a.createElement("span",{className:"text-bold"},"Airline"),l.a.createElement($e.a,null,l.a.createElement("div",{key:"checkbox",className:"mb-3"},Object(T.a)(new Set(E)).map((function(e){return l.a.createElement($e.a.Check,{label:e,type:"checkbox",id:e})}))))))),l.a.createElement("div",{className:"col-sm-12 col-md-10 p-0"},l.a.createElement(le,{values:h,ChildComponent:u,type:m,onFlightSelect:this.onFlightSelect,onViewDetails:this.onViewDetails}))),l.a.createElement(G,{title:"Flight Details",buttonLabel:"Book",show:null!==this.state.selectedFlight,toggle:this.onViewDetails,onSuccess:this.onBook},this.state.selectedFlight&&l.a.createElement(d,{flight:this.state.selectedFlight})))}}]),t}(n.Component),He={selectInboundFlight:function(e){return{type:"SELECT_INBOUND_FLIGHT",payload:e}},selectOutboundFlight:function(e){return{type:"SELECT_OUTBOUND_FLIGHT",payload:e}},deselectFlight:function(e){return{type:"OUTBOUND"==e?"DESELECT_OUTBOUND_FLIGHT":"DESELECT_INBOUND_FLIGHT"}}},ze=Object(s.b)((function(e){var t=e.flightStore;return{outboundFlights:t.flights.outbounds,inboundFlights:t.flights.inbounds,combinations:t.flights.combinations,selectedInboundFlight:t.selectedInboundFlight,selectedOutboundFlight:t.selectedOutboundFlight}}),He)(Ke),We=function(e){return{type:"SET_BOOKING",payload:e}},Je=function(e){function t(e){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).call(this,e))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.passengers;return l.a.createElement("div",{className:"passenger-details container p-0"},l.a.createElement("table",{class:"table"},l.a.createElement("thead",null,l.a.createElement("tr",{className:"text-center"},l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Type"),l.a.createElement("th",null,"Nationality"))),l.a.createElement("tbody",null,e.map((function(e){return l.a.createElement("tr",{className:"text-center"},l.a.createElement("td",{className:""},e.title," ",e.first_name," ",e.last_name),l.a.createElement("td",{className:""},e.passenger_type),l.a.createElement("td",{className:""},e.nationality))})))))}}]),t}(n.Component),Xe=a(53),Qe=a.n(Xe);var Ze=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={action:null,fields:{}},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;(e=this.props.idx,f()({method:"get",url:"".concat(y,"/payments/new?idx=").concat(e),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.token)}})).then((function(e){t.setState({action:e.data.action,fields:e.data.fields})})).catch((function(e){console.log(e)}))}},{key:"componentDidUpdate",value:function(){null!==this.state.action&&document.getElementById("pay-form").submit()}},{key:"render",value:function(){var e=this.state,t=e.action,a=e.fields;return l.a.createElement("div",null,l.a.createElement("div",{class:"text-center p-5"},l.a.createElement("img",{src:"/assets/loading.gif",width:"50",height:"50"}),l.a.createElement("div",null,"Redirecting to Payment Page......")),l.a.createElement("form",{id:"pay-form",method:"POST",action:t},Object.keys(a).map((function(e){return console.log(e),l.a.createElement("input",{id:e,type:"hidden",name:e,value:a[e]})}))))}}]),t}(n.Component),et=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).submit=a.submit.bind(Object(p.a)(a)),a.state={idx:null},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"submit",value:function(){var e,t=this,a={};a.contact_name=this.props.user.name,a.mobile_no=this.props.user.phone_number,a.email=this.props.user.email,(e={booking:Object(H.a)({outbound_flight:this.props.selectedOutboundFlight,inbound_flight:this.props.selectedInboundFlight,passengers_attributes:this.props.passengers},a)},f()({method:"post",url:"".concat(y,"/bookings"),data:e,responseType:"json",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.token)}})).then((function(e){t.props.setBooking(e.data),t.setState({idx:e.data[0].booking_transaction.idx})})).catch((function(e){console.log(e)}))}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,a=t.passengers,n=t.toggle,r=this.state.idx;return null!==this.state.idx?l.a.createElement(Ze,{idx:r}):l.a.createElement("div",{className:"passenger-details container p-3 bg-white"},l.a.createElement("div",{className:"p-2"},l.a.createElement("i",{className:"icon-circle-cross text-normal float-right",onClick:function(){n()}})),l.a.createElement("span",{class:"text-bold"},"Flight Details"),l.a.createElement("div",{className:"container"},l.a.createElement(ae,{flight:this.props.selectedOutboundFlight})),l.a.createElement("span",{class:"text-bold"},"Passenger Details"),l.a.createElement(Je,{passengers:a}),l.a.createElement("div",{className:"text-center m-1"},l.a.createElement("button",{type:"button",class:"btn btn-primary",onClick:function(){e.submit()}},"Continue to Payment")))}}]),t}(n.Component),tt={setBooking:We},at=Object(s.b)((function(e){var t=e.flightStore,a=e.bookingStore;return{selectedInboundFlight:t.selectedInboundFlight,selectedOutboundFlight:t.selectedOutboundFlight,booking:a.booking,adult:t.searchDetails.intAdult,child:t.searchDetails.intChild,ttlTime:t.ttlTime}}),tt)(et),nt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={minutes:a.props.ttlTime,seconds:0},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.myInterval=setInterval((function(){var t=e.state,a=t.seconds,n=t.minutes;a>0&&e.setState((function(e){return{seconds:e.seconds-1}})),0===a&&(0===n?(clearInterval(e.myInterval),Qe()({title:"Time Ended!",text:"Your flight Reservation time has ended. Please try Again",icon:"warning",button:"Try Again!"})):e.setState((function(e){return{minutes:e.minutes-1,seconds:59}})))}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.myInterval)}},{key:"render",value:function(){var e=this.state,t=e.minutes,a=e.seconds;return l.a.createElement("div",{className:"timer"},0===t&&0===a?l.a.createElement("span",null,"Time's up!"):l.a.createElement("span",null,"Time Left: ",t,":",a<10?"0".concat(a):a))}}]),t}(n.Component),lt={setTTLtime:re},rt=Object(s.b)((function(e){return{ttlTime:e.flightStore.ttlTime}}),lt)(nt),ct=a(672),st=(a(248),a(360)),ot=a(676),it=a(114);function mt(e){var t=e.children,a=e.eventKey,n=Object(st.b)(a,(function(){return console.log("totally custom!")}));return l.a.createElement("div",{className:"d-flex text-primary text-bold align-items-center",onClick:n},t,l.a.createElement("i",{className:"icon-circle-with-minus ml-auto"}))}var ut=function(e){var t=e.title,a=e.children;return l.a.createElement(ot.a,{defaultActiveKey:"0"},l.a.createElement(it.a,null,l.a.createElement(it.a.Header,null,l.a.createElement(mt,{eventKey:"0"},t)),l.a.createElement(ot.a.Collapse,{eventKey:"0",className:"collapse-sm"},l.a.createElement(it.a.Body,null,a))))},dt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={redirect:!1,viewDetails:!1,passengers:[]},a.toggleView=a.toggleView.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"toggleView",value:function(){this.setState((function(e){return{viewDetails:!e.viewDetails}}))}},{key:"componentDidMount",value:function(){this.props.setTTLtime(15)}},{key:"render",value:function(){var e=this,t=this.props.currentUser,a=this.props.selectedOutboundFlight;t.code=t.country;var n,r=this.props,c=r.adult,s=r.child,i=(r.currentUser,pe.d().shape({passengers:pe.a().of(pe.d().shape({title:pe.f().required("Required"),first_name:pe.f().required("Required"),last_name:pe.f().required("Required"),gender:pe.f().required("Required"),nationality:pe.f().required("Required")}))})),m={title:"Mr",first_name:"",last_name:"",passenger_type:"",gender:"M",nationality:"NP"},u={passengers:[],user:t};for(n=0;n<c;n++){(d=Object.assign({},m)).passenger_type="ADULT",u.passengers.push(d)}for(n=0;n<s;n++){var d;(d=Object.assign({},m)).passenger_type="CHILD",u.passengers.push(d)}if(0==u.passengers.length)return l.a.createElement(o.a,{to:"/"});if(!a)return l.a.createElement(o.a,{to:"/"});var p=this.props.countries.map((function(e){return{country_char:e.country_char,country_code:e.country_code}}));p=D(p,"country_code");var h=l.a.createElement(ce.a,{className:"p-0"},l.a.createElement(ue.d,{initialValues:u,validationSchema:i,onSubmit:function(t,a){a.setSubmitting,a.props;e.setState({passengers:t.passengers,viewDetails:!0,user:t.user})}},(function(t){var a=t.values,n=(t.errors,t.touched,t.handleChange),r=t.handleBlur,c=(t.handleSubmit,t.isSubmitting,t.setFieldValue);return l.a.createElement(ue.c,null,l.a.createElement("h3",{className:"p-2"},"Contact Information"),l.a.createElement("div",{className:"input-section"},l.a.createElement("div",{className:"field-box"},l.a.createElement("label",null,"Contact Name"),l.a.createElement(ue.b,{type:"text",name:"user.name",className:"form-control",onBlur:r,onChange:n,value:a.user.name})),l.a.createElement("div",{className:"field-box"},l.a.createElement("label",null,"Contact Phone"),l.a.createElement(ct.a,{label:l.a.createElement(Te.a,{className:"dropdown",defaultValue:a.user.code,name:"user.code",placeholder:"Select Code",onBlur:r,onChange:function(e,t){c("user.code",t.value)},value:a.user.code,fluid:!0,search:!0,selection:!0,options:p.map((function(e){return{key:e.id,value:e.country_code,text:e.country_code,flag:e.country_char.toLowerCase()}}))}),labelPosition:"left",placeholder:"Contact Phone",type:"text",name:"user.phone_number",className:"semantic-input-group",onBlur:r,onChange:n,value:a.user.phone_number})),l.a.createElement("div",{className:"field-box"},l.a.createElement("label",null,"Contact Email"),l.a.createElement(ue.b,{type:"text",name:"user.email",className:"form-control",onBlur:r,onChange:n,value:a.user.email}))),l.a.createElement("h3",{className:"p-2"},"Passenger details"),a.passengers.map((function(t,s){return l.a.createElement("div",{className:"",key:"".concat(t.passenger_type," ").concat(s+1)},l.a.createElement(ut,{title:"".concat(t.passenger_type," ").concat(s+1)},l.a.createElement("div",{className:"input-section"},l.a.createElement("div",{className:"field-box"},l.a.createElement("label",{htmlFor:""},"Title"),l.a.createElement(ue.b,{as:"select",name:"passengers[".concat(s,"].title"),className:"form-control",onBlur:r,onChange:n,value:a.passengers[s].title},l.a.createElement("option",{value:"Mr"}," Mr "),l.a.createElement("option",{value:"Mrs"}," Mrs ")),l.a.createElement("span",{class:""},l.a.createElement(de,{name:"passengers[".concat(s,"].title")}))),l.a.createElement("div",{className:"field-box"},l.a.createElement("label",{htmlFor:""},"First Name"),l.a.createElement(ue.b,{name:"passengers[".concat(s,"].first_name"),className:"form-control",onBlur:r,onChange:n,value:a.passengers[s].first_name,placeholder:"First Name"}),l.a.createElement(de,{name:"passengers[".concat(s,"].first_name")})),l.a.createElement("div",{className:"field-box"},l.a.createElement("label",{htmlFor:""},"Last Name"),l.a.createElement(ue.b,{name:"passengers[".concat(s,"].last_name"),className:"form-control",onBlur:r,onChange:n,value:a.passengers[s].last_name,placeholder:"Last Name"}),l.a.createElement(de,{name:"passengers[".concat(s,"].last_name")})),l.a.createElement("div",{className:"field-box"},l.a.createElement("label",{htmlFor:""},"Gender"),l.a.createElement(ue.b,{as:"select",name:"passengers[".concat(s,"].gender"),className:"form-control",onBlur:r,onChange:n,value:a.passengers[s].gender},l.a.createElement("option",{value:"M"}," Male "),l.a.createElement("option",{value:"F"}," Female ")),l.a.createElement(de,{name:"passengers[".concat(s,"].gender")})),l.a.createElement("div",{className:"field-box"},l.a.createElement("label",{htmlFor:""},"Nationality"),l.a.createElement(Te.a,{className:"form-control",name:"passengers[".concat(s,"].nationality"),placeholder:"Select Country",onBlur:r,onChange:function(e,t){c("passengers[".concat(s,"].nationality"),t.value)},value:a.passengers[s].nationality,fluid:!0,search:!0,selection:!0,options:e.props.countries.map((function(e){return{key:e.id,value:e.country_char,flag:e.country_char.toLowerCase(),text:e.name}}))})))))})),l.a.createElement("div",{className:"text-center p-2"},l.a.createElement("button",{type:"submit",class:"btn btn-primary"},"Submit")))})));return this.state.viewDetails&&(h=l.a.createElement(at,{passengers:this.state.passengers,toggle:this.toggleView,user:t})),l.a.createElement("div",{id:"passenger-form"},this.props.ttlTime>0&&l.a.createElement(rt,null),h)}}]),t}(n.Component),pt={setTTLtime:re,setBooking:We},ht=Object(s.b)((function(e){var t=e.flightStore,a=e.bookingStore,n=e.userStore,l=e.extras;return{selectedInboundFlight:t.selectedInboundFlight,selectedOutboundFlight:t.selectedOutboundFlight,booking:a.booking,adult:t.searchDetails.intAdult,child:t.searchDetails.intChild,currentUser:n.currentUser,ttlTime:t.ttlTime,countries:l.countries}}),pt)(dt),Et=a(18),ft=a(109),bt=a.n(ft),gt=function(e){return l.a.createElement("div",{className:"card-item "},l.a.createElement("a",{href:bt.a,className:"image-popup"},l.a.createElement("figure",null,l.a.createElement("div",{className:"overlay d-flex align-items-center justify-content-center"},l.a.createElement(Et.a,{to:"/package/1",className:"btn btn-primary"},"Book"),l.a.createElement("br",null),l.a.createElement(Et.a,{to:"/package/1",className:"btn btn-outline-primary"},"Details")),l.a.createElement("img",{src:bt.a,alt:"Image",className:"img-responsive"}))),l.a.createElement("div",{className:"details-text"},l.a.createElement("h2",null,"Kathmandu, Nepal"),l.a.createElement("div",{className:"d-flex justify-content-between"},l.a.createElement("span",{className:"text-small"},l.a.createElement("strong",null,"Rs: 14000")," onwards/pax"),l.a.createElement("span",{className:"text-muted"},l.a.createElement("i",{className:"fas fa-clock"}),"2 hours")),l.a.createElement("p",null,"Far far away, behind the word mountains, far from the countries")))},vt=(a(605),a(606),a(607),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={context:e.context},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e={margin:20,loop:!0,touchDrag:!0,rewind:!0,animateIn:!0,responsive:{0:{items:1,nav:!0},600:{items:3,nav:!1},1e3:{items:3,nav:!0,loop:!1}}};$(document).ready((function(){$(".owl-carousel").owlCarousel(e)}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"container p-4"},l.a.createElement("div",{className:"d-flex flex-wrap justify-content-around"},l.a.createElement(gt,null),l.a.createElement(gt,null),l.a.createElement(gt,null),l.a.createElement(gt,null)),l.a.createElement("div",{className:"owl-carousel owl-theme"},l.a.createElement(gt,null),l.a.createElement(gt,null),l.a.createElement(gt,null),l.a.createElement(gt,null),l.a.createElement(gt,null),l.a.createElement(gt,null)))}}]),t}(n.Component)),Nt=(a(330),n.Component,a(608),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"btn-group col-6"},l.a.createElement("a",{className:"btn btn-danger disabled"},l.a.createElement("i",{className:"icon-google"})),l.a.createElement("a",{className:"btn btn-danger",href:x},"Google")),l.a.createElement("div",{className:"btn-group col-6"},l.a.createElement("a",{className:"btn bg-fb disabled"},l.a.createElement("i",{className:"icon-facebook"})),l.a.createElement("a",{className:"btn bg-fb text-white",href:S},"Facebook")))}}]),t}(n.Component)),yt=Object(s.b)((function(e){return{currentUser:e.currentUser}}),{})(Nt);var kt=function(e){var t=e.items,a=void 0===t?[]:t,n=e.isVisible,r=e.onHide;return l.a.createElement("div",{className:"sidebar d-md-none ".concat(n?"show":"closed")},l.a.createElement("div",{className:"list-group"},a.map((function(e){var t=e.label,a=e.name,n=e.details,c=e.icon,s=e.value,o=e.link;Object(_.a)(e,["label","name","details","icon","value","link"]);return l.a.createElement("div",{className:"list-group-item d-flex align-items-center",key:a,onClick:function(){Ee.push(o),r()}},l.a.createElement("i",{className:"".concat(c," p-2 text-primary")}),l.a.createElement("div",null,l.a.createElement("span",null,t),l.a.createElement("span",{className:"small text-muted",style:{display:"table"}},n)),l.a.createElement("span",{className:"text-bold ml-auto"},s))})),l.a.createElement("hr",null),l.a.createElement("div",{className:"list-group-item d-flex justify-content-between",key:"flights"},l.a.createElement("span",null,l.a.createElement("i",{class:"fas fa-plane-departure  p-2 text-primary"})," ","Flights")),l.a.createElement("div",{className:"list-group-item d-flex justify-content-between",key:"packages"},l.a.createElement("span",null,l.a.createElement("i",{class:"fab fa-fort-awesome p-2 text-primary"}),"Packages"))),l.a.createElement(yt,null))},xt=a(670),St=a(664),Ct=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={key:"flights"},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"setKey",value:function(e){this.setState({key:e})}},{key:"render",value:function(){var e=this,t=this.state.key;return l.a.createElement(l.a.Fragment,null,l.a.createElement(xt.a,{id:"home-tab",activeKey:t,className:"dnav-fill",onSelect:function(t){return e.setKey(t)}},l.a.createElement(St.a,{eventKey:"flights",title:"Flights"},l.a.createElement(Pe,null),l.a.createElement("div",{className:"container text-center"},l.a.createElement("h3",{className:"m-4"}," Things to do "),l.a.createElement(vt,null))),l.a.createElement(St.a,{eventKey:"packages",title:"Packages"},l.a.createElement("div",{className:"container"},l.a.createElement("h4",null," Popular Packages "),l.a.createElement(vt,null)))))}}]),t}(n.Component),Ot=a(363),wt=a.n(Ot),jt=function(){return l.a.createElement("div",{class:"text-center"},l.a.createElement("img",{src:wt.a,className:"img-responsive"}))},Tt=function(e){return l.a.createElement("div",{className:""},l.a.createElement("a",{href:bt.a,className:"card-item image-popup"},l.a.createElement("figure",null,l.a.createElement("div",{className:"overlay"},l.a.createElement("i",{className:"ti-plus"})),l.a.createElement("img",{src:bt.a,alt:"Image",className:"img-responsive"})),l.a.createElement("div",{className:"details-text"},l.a.createElement("h2",null,"Kathmandu, Nepal"),l.a.createElement("p",null,"Far far away, behind the word mountains, far from the countries"),l.a.createElement("p",null,l.a.createElement("span",{className:"btn btn-primary"},"Schedule a Trip")))))},_t=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={context:e.context},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){$(document).ready((function(){$(".owl-carousel").owlCarousel({items:3,margin:20,loop:!0,touchDrag:!0,nav:!0,rewind:!0,animateIn:!0})}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"container p-4"},l.a.createElement("div",{className:"owl-carousel owl-theme"},l.a.createElement(Tt,null),l.a.createElement(Tt,null),l.a.createElement(Tt,null),l.a.createElement(Tt,null),l.a.createElement(Tt,null),l.a.createElement(Tt,null),l.a.createElement(Tt,null)))}}]),t}(n.Component),Dt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={context:e.context},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){$(document).ready((function(){$(".owl-carousel").owlCarousel({items:3,margin:20,loop:!0,touchDrag:!0,nav:!0,rewind:!0,animateIn:!0})}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:""},"Search"))}}]),t}(n.Component),Ft=(a(609),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Dt,null),l.a.createElement(vt,null))}}]),t}(n.Component));function Bt(e){return f()({method:"get",url:"".concat(y,"/user/profile"),params:e,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.token)}})}function At(e){return f()({method:"put",url:"".concat(y,"/members"),data:{user:e},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.token)}})}var Ut=function(e){var t=e.edit,a=e.label,r=e.value,c=e.name,s=e.type,o=void 0===s?"text":s,i=e.options,m=e.onSubmit,u=Object(n.useState)(!1),d=Object(se.a)(u,2),p=d[0],h=d[1],E=Object(n.useState)(r),f=Object(se.a)(E,2),b=f[0],g=f[1];return Object(n.useEffect)((function(){t&&h(!1)}),[t]),l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"d-flex label align-items-center"},l.a.createElement("span",{className:"mr-auto"},a),p&&l.a.createElement("span",{className:"text-primary",onClick:function(){return h(!1)}},l.a.createElement("i",{className:"icon-cross"}))),l.a.createElement("div",{className:"d-flex value"},!p&&l.a.createElement("span",{className:"mr-auto"},r),p&&"text"==o&&l.a.createElement("input",{className:"form-control",value:b,onChange:function(e){g(e.target.value)}}),p&&"select"==o&&l.a.createElement(Te.a,{className:"form-control",name:c,value:b,onChange:function(e,t){g(t.value)},fluid:!0,search:!0,selection:!0,options:i}),p&&l.a.createElement("span",{className:"btn btn-sm btn-primary",onClick:function(){return m(b)}},"Update"),!p&&l.a.createElement("span",{className:"text-primary",onClick:function(){return h(!0)}},"Edit")))},Rt=function(e){return{type:"LOGIN_USER",payload:e}},It=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={updated:!1},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){F(document,f.a)}},{key:"update",value:function(e){var t=this;this.setState({updated:!1}),At(e).then((function(a){console.log("details",a.data),Qe()({title:"User Updates!",text:"user updated successfully",icon:"success",button:"Continue!"}),t.props.updateUser(e),t.setState({updated:!0})})).catch((function(e){console.log(e),Qe()({title:"User Updates!",text:e.message,icon:"error",button:"Continue!"})}))}},{key:"render",value:function(){var e=this,t=this.state.updated,a=this.props,n=a.user,r=a.countries;return l.a.createElement("div",{className:"user-profile row"},l.a.createElement("div",{className:"col-12 p-0"},l.a.createElement(Ut,{edit:t,label:"Name",value:n.name,onSubmit:function(t){return e.update({id:n.id,name:t})}}),l.a.createElement(Ut,{label:"Email",value:n.email,onSubmit:function(t){return e.update({id:n.id,email:t})}}),l.a.createElement(Ut,{edit:t,label:"Mobile No",value:n.phone_number,onSubmit:function(t){return e.update({id:n.id,phone_number:t})}}),l.a.createElement(Ut,{edit:t,label:"Currency",value:n.currency,name:"currency",type:"select",options:r.filter((function(e){return null!==e.currency_char})).map((function(e){if(null!==e.currency_char)return{key:e.id,flag:e.country_char.toLowerCase(),value:e.currency_char,text:e.currency_char}})),onSubmit:function(t){return e.update({id:n.id,currency:t})}}),l.a.createElement(Ut,{edit:t,label:"Nationality",name:"nationality",value:n.country,type:"select",options:r.map((function(e){return{key:e.id,flag:e.country_char.toLowerCase(),value:e.name,text:e.name}})),onSubmit:function(t){return e.update({id:n.id,country:t})}})))}}]),t}(n.Component),Lt={updateUser:function(e){return console.log("user =",e),{type:"UPDATE_USER",payload:e}}},Pt=Object(s.b)((function(e){var t=e.userStore,a=e.extras;return{user:t.currentUser,countries:a.countries}}),Lt)(It),Mt=function(){return l.a.createElement("div",null,l.a.createElement("div",null,"Link your account with:"),l.a.createElement("div",{className:"d-inline"},l.a.createElement("div",{className:"btn-group m-2"},l.a.createElement("a",{className:"btn btn-danger disabled"},l.a.createElement("i",{className:"icon-google text-white"})),l.a.createElement("a",{className:"btn btn-danger text-white ",href:x},"Google")),l.a.createElement("div",{className:"btn-group m-2"},l.a.createElement("a",{className:"btn bg-fb disabled"},l.a.createElement("i",{className:"icon-facebook text-white"})),l.a.createElement("a",{className:"btn bg-fb text-white ",href:S},"Facebook"))))},qt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).fetchDetails=function(){Bt().then((function(e){a.setState({userDetails:e.data.user}),console.log(e.data.user)})).catch((function(e){console.log(e),a.setState({error:e})}))},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){F(document,f.a),this.fetchDetails()}},{key:"render",value:function(){var e=this.props.currentUser;return l.a.createElement("div",{className:""},l.a.createElement(Pt,{user:e}),l.a.createElement(Mt,null))}}]),t}(n.Component),$t=Object(s.b)((function(e){return{currentUser:e.userStore.currentUser}}),(function(){return{}}))(qt),Vt=a(665),Yt=function(e){var t,a=e.type,n=void 0===a?"light":a,r=(e.content,e.children);switch(n){case"pending":t="warning";break;case"processing":t="info";break;case"verified":t="success";break;case"cancelled":t="danger";break;default:t=n}return l.a.createElement(Vt.a,{variant:t},r)},Gt=a(364),Kt=a.n(Gt),Ht=(a(610),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={bookings:[],currentPage:1},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;F(document,f.a),f()({method:"get",url:"".concat(y,"/bookings"),params:e,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.token)}}).then((function(e){console.log(e,"booking response"),console.log("Bookings List",e),t.setState({bookings:e.data})})).catch((function(e){console.log(e),t.setState({error:e})}))}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this.state.bookings;return 0==this.state.bookings.length?l.a.createElement(qe,null,"No bookings yet."):l.a.createElement("div",{className:"booking-list container card"},l.a.createElement("div",{className:"card-body"},l.a.createElement("h5",null,"Bookings"),l.a.createElement(Kt.a,{currentPage:this.state.currentPage,totalPages:10,changeCurrentPage:this.changeCurrentPage}),l.a.createElement("h2",null,"current Page:",this.state.currentPage),e.map((function(e){return console.log("Booking",e),l.a.createElement(Et.a,{className:"booking d-flex justify-content-between align-items-center p-3 ",to:{pathname:"/booking_details/".concat(e.ruid),state:{booking:e}}},l.a.createElement("div",null,l.a.createElement("div",{className:""},l.a.createElement("span",{className:"px-2"},"".concat(e.departure)),l.a.createElement("i",{className:"fas fa-arrow-right"}),l.a.createElement("span",{className:"px-2"}," ","".concat(e.arrival))),l.a.createElement("div",null,l.a.createElement("span",{className:"text-small text-muted px-2"},l.a.createElement("i",{class:"fas fa-plane-departure"}),"\xa0","".concat(xe()(e.flight_date).format("Do MMMM, YYYY"))),"R"===e.strTripType&&l.a.createElement("span",{className:"text-small text-muted px-2"},l.a.createElement("i",{class:"fas fa-plane-arrival"}),"\xa0","".concat(xe()(e.strReturnDate).format("Do MMMM, YYYY"))),l.a.createElement("span",{className:"text-small text-muted px-2"},l.a.createElement("i",{class:"fas fa-male"}),"\xa0",e.adult," Adult,",e.child," Child"))),l.a.createElement("div",null,l.a.createElement(Yt,{type:e.status},e.status)))}))))}}]),t}(n.Component)),zt=(a(611),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).activateTab=function(e){a.setState({ActiveComponent:e})},a.state={ActiveComponent:$t},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state.ActiveComponent;return l.a.createElement("div",{className:"container p-0"},l.a.createElement("h3",null," Profile "),l.a.createElement("nav",{className:"nav nav-tabs"},l.a.createElement("div",{class:"nav nav-tabs nav-fill",id:"nav-tab",role:"tablist"},l.a.createElement("a",{class:"nav-item nav-link active",id:"nav-profile-tab","data-toggle":"tab",href:"#nav-profile",role:"tab","aria-controls":"nav-home","aria-selected":"true",onClick:function(){return e.activateTab($t)}},l.a.createElement("i",{className:"icon-dribbble"}),"Details"),l.a.createElement("a",{class:"nav-item nav-link",id:"nav-bookings-tab","data-toggle":"tab",href:"#nav-bookings",role:"tab","aria-controls":"nav-home","aria-selected":"true",onClick:function(){return e.activateTab(Ht)}},l.a.createElement("i",{className:"icon-dribbble"}),"Bookings"))),l.a.createElement("div",{class:"tab-content",id:"nav-tabContent"},l.a.createElement("div",{class:"tab-pane fade show active",id:"nav-profile",role:"tabpanel","aria-labelledby":"nav-profile-tab"}),l.a.createElement("div",{class:"tab-pane fade",id:"nav-bookings",role:"tabpanel","aria-labelledby":"nav-bookings-tab"}),l.a.createElement(t,null)))}}]),t}(n.Component));var Wt=function(e){return f()({method:"post",url:"".concat(N,"/sign_up"),data:e,config:{headers:{"Content-Type":"application/json"}}})},Jt=a(662),Xt={setCurrency:function(e){return{type:"SET_CURRENCY",payload:e}},setLanguage:function(e){return{type:"SET_LANGUAGE",payload:e}}},Qt=Object(s.b)((function(e){var t=e.bookingStore,a=e.extras;return{currency:t.currency,language:t.language,countries:a.countries}}),Xt)((function(e){var t=e.currency,a=e.setCurrency,n=e.language,r=e.setLanguage,c=e.requestData,s=e.countries,o=null;switch(console.log("CURRENCY",t),c){case"currencies":o=s.map((function(e){if(null!==e.currency_char)return l.a.createElement("li",{className:"d-flex align-items-center p-1 menu-item ".concat(e.currency_char==t?"active":""),onClick:function(){a(e.currency_char)}},l.a.createElement(Jt.a,{name:e.country_char.toLowerCase()}),l.a.createElement("span",null,e.currency_char),e.currency_char==t&&l.a.createElement("i",{className:"icon-check ml-2"}))}));break;case"codes":o=s.map((function(e){if(null!==e.country_code)return l.a.createElement("li",{className:"p-1 menu-item d-flex align-items-center"},l.a.createElement("i",{className:"icon-flag"}),l.a.createElement("span",null,e.country_code))}));break;case"languages":o=[{code:"ENG",label:"English"},{code:"ESP",label:"Spanish"}].map((function(e){var t=e.code,a=e.label;return l.a.createElement("li",{className:"d-flex align-items-center p-1 menu-item",onClick:function(){r(t)}},l.a.createElement("i",{className:"icon-flag"}),l.a.createElement("span",null,a),t==n&&l.a.createElement("i",{className:"icon-check ml-2"}))}));break;default:o=s.map((function(e){if(null!==e.name)return l.a.createElement("li",{className:"p-1"},l.a.createElement("i",{className:"icon-flag"}),l.a.createElement("span",null,e.name))}))}return l.a.createElement("ul",null,o)})),Zt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={sideBarIsVisible:!1},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){}},{key:"toggleSidebar",value:function(){this.setState((function(e,t){return{sideBarIsVisible:!e.sideBarIsVisible}}))}},{key:"render",value:function(){var e,t=this,a=this.props,n=a.currentUser,r=a.currency,c=a.logoutUser,s=void 0!==n.email,o=[{icon:"icon-home",name:"home",label:"Home",value:"",link:"/"},{icon:"icon-beamed-note",name:"my_bookings",label:"My Bookings",value:"",link:"/bookings"},{icon:"icon-user",name:"settings",label:"My Account",details:n.name,value:"",link:"/profile"},{icon:"icon-calculator",name:"currency",label:"Currency",value:r,link:"/profile"},{icon:"icon-old-mobile",name:"contact_us",label:"Contact Us",value:"",link:"/contact"}];return l.a.createElement(l.a.Fragment,null,l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark sticky-top"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"navbar-header d-flex"},l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#sidebar","aria-controls":"sidebar","aria-expanded":"false","aria-label":"Toggle navigation",onClick:function(){return t.toggleSidebar()}},l.a.createElement("i",{className:this.state.sideBarIsVisible?"icon-cross":"icon-menu"})),l.a.createElement(Et.a,{to:"/",className:"navbar-brand animated bounce delay-2s"},"Booking Nepal")),l.a.createElement("div",{className:"navbar-collapse collapse"},l.a.createElement("ul",{className:"navbar-nav ml-auto align-items-center"},l.a.createElement("li",{className:"mx-3"},l.a.createElement(Et.a,{className:"navbar-font-style",to:"/partners/new",activeStyle:{textDecoration:"none",fontWeight:"bold",color:"#09C6AB"}},"Become a partner")),s&&l.a.createElement("li",{className:"mx-3"},l.a.createElement(Et.a,{className:"navbar-font-style",to:"/bookings",activeStyle:{textDecoration:"none",fontWeight:"bold",color:"#09C6AB"}},"My Bookings")),l.a.createElement("li",{className:"mx-3"},l.a.createElement(ge,{icon:"np flag",title:r,className:"text-white"},l.a.createElement("div",{className:"d-flex select-countries"},l.a.createElement("div",{className:"pr-3"},l.a.createElement("span",null,"Languages"),l.a.createElement(Qt,{requestData:"languages"})),l.a.createElement("div",{className:""},l.a.createElement("span",null,"Currencies"),l.a.createElement(Qt,{requestData:"currencies"}))))))),l.a.createElement("div",null,l.a.createElement("ul",{className:"navbar-nav ml-auto align-items-center"},l.a.createElement("li",{className:"mx-3"},l.a.createElement(ge,{icon:"icon-user",title:(e=n,void 0==e.name||""==e.name?"Login":e.name[0].toUpperCase()),className:"text-white"},l.a.createElement("ul",null,l.a.createElement("li",null,s&&l.a.createElement(Et.a,{to:"/profile",className:"dropdown-item"},"Profile")),l.a.createElement("li",null,s&&l.a.createElement("a",{className:"dropdown-item",onClick:function(){c(),Ee.push("/login"),localStorage.removeItem("token")}},"Logout")),l.a.createElement("li",null,!s&&l.a.createElement(Et.a,{to:"/login",className:"dropdown-item"},"Login")),l.a.createElement("li",null,!s&&l.a.createElement(Et.a,{to:"/signup",className:"dropdown-item"},"Sign up"))))))))),l.a.createElement(kt,{isVisible:this.state.sideBarIsVisible,items:o,side:"left",onHide:function(){return t.toggleSidebar()}}))}}]),t}(n.Component),ea={logoutUser:function(){return{type:"LOGOUT_USER"}}},ta=Object(s.b)((function(e){var t=e.userStore,a=e.bookingStore;return{currentUser:t.currentUser,currency:a.currency}}),ea)(Zt),aa=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=(this.props.currentUser,"/");return void 0!==this.props.location.state&&(t=this.props.location.state.from.pathname),l.a.createElement(l.a.Fragment,null,l.a.createElement(ue.d,{initialValues:{email:"",password:""},onSubmit:function(){var a=Object(v.a)(g.a.mark((function a(n,l){var r,c;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=l.setSubmitting,l.setStatus,c={user:{email:n.email,password:n.password}},(s=c,f()({method:"post",url:"".concat(N,"/login"),data:s,config:{headers:{"Content-Type":"application/json"}}})).then((function(a){r(!1),console.log("Sign IN response",a.data),void 0!==a.data.user?(console.log("Logged In user",a),e.props.loginUser(a.data.user),localStorage.setItem("token",a.data.jwt),Ee.push(t)):swal({title:"Sign In Failed!",text:a.data.failure,icon:"error",button:"Try Again!"})})).catch((function(e){console.log("SIGN IN error",e),swal({title:"Something Went Wrong!",text:"........!",icon:"error",button:"Try Again!"})}));case 3:case"end":return a.stop()}var s}),a)})));return function(e,t){return a.apply(this,arguments)}}()},(function(e){var t=e.values,a=(e.errors,e.touched,e.handleChange),n=e.handleBlur,r=e.handleSubmit,c=e.isSubmitting;e.setFieldValue;return l.a.createElement("div",{className:"login-page"},l.a.createElement("div",{className:"login-form card p-2"},l.a.createElement("div",{className:"card-body"},l.a.createElement("h4",null,"Log in"),l.a.createElement("div",{class:"text-small"},"Don't have an account? ",l.a.createElement(Et.a,{to:"/signup"},"Create Account")),l.a.createElement("form",{onSubmit:r,className:"form-wrap"},l.a.createElement("div",{className:"input-section"},l.a.createElement("div",{className:"field"},l.a.createElement("label",null,"Email"),l.a.createElement(ue.b,{type:"text",name:"email",className:"form-control",onBlur:n,onChange:a,value:t.email,placeholder:"Email"})),l.a.createElement("div",{className:"field"},l.a.createElement("label",null,"Password"),l.a.createElement(ue.b,{type:"password",name:"password",className:"form-control",onBlur:n,onChange:a,value:t.password,placeholder:"Password"}))),l.a.createElement("div",{class:"text-small"},l.a.createElement(Et.a,{to:"/forgot"},"Forgot Password?")),l.a.createElement("button",{className:"btn btn-secondary my-2 w-100",type:"submit",disabled:c},"Sign In"),l.a.createElement("hr",null),l.a.createElement("div",{class:"text-center text-small mb-2"},"Sign In with "),l.a.createElement(yt,null)))))})))}}]),t}(n.Component),na={loginUser:Rt},la=Object(s.b)((function(e){return{currentUser:e.userStore.currentUser}}),na)(aa),ra=function(e){function t(e){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).call(this,e))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){F(document,f.a)}},{key:"render",value:function(){var e=this,t=this.props,a=(t.outboundFlights,t.inboundFlights,t.selectedInboundFlight,t.selectedOutboundFlight,t.countries),n=pe.d().shape({password:pe.f().required("Required"),password_confirmation:pe.f().oneOf([pe.e("password"),null],"Passwords don't match!").required("Required")}),r=D(a,"country_code");return l.a.createElement(ue.d,{initialValues:{name:"",email:"",code:"",phone_number:"",password:"",password_confirmation:""},validationSchema:n,onSubmit:function(t,a){var n=a.setSubmitting,l=(a.setStatus,{user:{name:t.name,email:t.email,code:t.code,phone_number:t.phone_number,password:t.password,password_confirmation:t.password_confirmation}});Wt(l).then((function(t){localStorage.setItem("token",t.data.jwt),console.log(t),e.props.loginUser(t.data.user),n(!1),Ee.push("/")})).catch((function(e){n(!1),console.log(e),swal({title:"Something went wrong!",text:"User was not created!",icon:"error",button:"Try Again!"})}))}},(function(e){var t=e.values,a=(e.errors,e.touched,e.handleChange),n=e.handleBlur,c=e.handleSubmit,s=e.isSubmitting,o=e.setFieldValue;return l.a.createElement("form",{onSubmit:c,className:"form-wrap"},l.a.createElement("div",{className:"login-page"},l.a.createElement("div",{className:"login-form card p-2"},l.a.createElement("div",{className:"card-body"},l.a.createElement("h4",null,"Sign Up"),l.a.createElement("div",{class:"text-small"},"Already have an account? ",l.a.createElement(Et.a,{to:"/login"},"Sign In")),l.a.createElement("div",{className:"input-section"},l.a.createElement("div",{className:"field"},l.a.createElement("label",null,"Full Name"),l.a.createElement(ue.b,{type:"text",name:"name",className:"form-control",onBlur:n,onChange:a,value:t.name,placeholder:"Full Name"})),l.a.createElement("div",{className:"field"},l.a.createElement("label",null,"Email"),l.a.createElement(ue.b,{type:"text",name:"email",className:"form-control",onBlur:n,onChange:a,value:t.email,placeholder:"Email"})),l.a.createElement("div",{className:"field-box"},l.a.createElement("label",null,"Mobile Number"),l.a.createElement(ct.a,{label:l.a.createElement(Te.a,{className:"dropdown",defaultValue:t.code,name:"code",placeholder:"Select Code",onBlur:n,onChange:function(e,t){o("code",t.value)},value:t.code,fluid:!0,search:!0,selection:!0,options:r.map((function(e){return{key:e.id,value:e.country_code,text:e.country_code,flag:e.country_char.toLowerCase()}}))}),labelPosition:"left",placeholder:"Mobile Number",type:"text",name:"phone_number",className:"semantic-input-group",onBlur:n,onChange:a,value:t.phone_number})),l.a.createElement("div",{className:"field"},l.a.createElement("label",null,"Password"),l.a.createElement(ue.b,{type:"password",name:"password",className:"form-control",onBlur:n,onChange:a,value:t.password,placeholder:"Passsword"})),l.a.createElement("div",{className:"field"},l.a.createElement("label",null,"Password Confirmation"),l.a.createElement(ue.b,{type:"password",name:"password_confirmation",className:"form-control",onBlur:n,onChange:a,value:t.password_confirmation,placeholder:"Passsword Confirmation"}),l.a.createElement(de,{name:"password_confirmation"})),l.a.createElement("button",{className:"btn btn-secondary my-2 w-100",type:"submit",disabled:s},"Submit"),l.a.createElement("hr",null),l.a.createElement("div",{class:"text-center text-small mb-2"},"Sign In with "),l.a.createElement(yt,null))))))}))}}]),t}(n.Component),ca={loginUser:Rt},sa=Object(s.b)((function(e){var t=e.currentUser;return{countries:e.extras.countries,currentUser:t}}),ca)(ra),oa=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).fetchDetails=function(){Bt().then((function(e){a.setState({userDetails:e.data.user}),console.log(e.data.user)})).catch((function(e){console.log(e),a.setState({error:e})}))},a.state={userDetails:{},updated:!1},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){F(document,f.a),this.fetchDetails()}},{key:"render",value:function(){var e=this,t=this.props.countries,a=(this.props.location.state?this.props.location.state:"").user,n=pe.d().shape({password:pe.f().required("Required"),password_confirmation:pe.f().oneOf([pe.e("password"),null],"Passwords don't match!").required("Required")});return a?l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"main"},l.a.createElement("br",null),l.a.createElement("h2",{className:"text-center"}," Edit "),l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-body"},l.a.createElement(ue.d,{initialValues:{id:a.id,name:a.name,email:a.email,password:"",password_confirmation:"",currency:a.currency},validationSchema:n,onSubmit:function(t,a){var n=a.setSubmitting;a.setStatus;At({user:{id:t.id,name:t.name,email:t.email,currency:t.currency,password:t.password,password_confirmation:t.password_confirmation}}).then((function(t){n(!1),e.setState({userDetails:t.data.user}),console.log(t.data.user),Ee.push("/profile")})).catch((function(t){console.log(t),n(!1),e.setState({error:t})}))}},(function(e){var a=e.values,n=(e.errors,e.touched,e.handleChange),r=e.handleBlur,c=e.handleSubmit,s=e.isSubmitting;e.setFieldValue;return l.a.createElement("form",{onSubmit:c,className:"form-wrap mt-4"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6 d-flex align-items-end"},l.a.createElement("label",null," Name ")),l.a.createElement("div",{className:"col-md-6"},l.a.createElement(ue.b,{type:"text",name:"name",className:"form-control",onBlur:r,onChange:n,value:a.name}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6 d-flex align-items-end"},l.a.createElement("label",null," Email ")),l.a.createElement("div",{className:"col-md-6"},l.a.createElement(ue.b,{type:"text",name:"email",className:"form-control",onBlur:r,onChange:n,value:a.email}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6 d-flex align-items-end"},l.a.createElement("label",null," Currency ")),l.a.createElement("div",{className:"col-md-6"},l.a.createElement(ue.b,{as:"select",name:"currency",className:"form-control",onBlur:r,onChange:n,value:a.currency},t.map((function(e){return null!==e.currency_char&&l.a.createElement("option",{key:e.id,value:e.currency_char},e.currency_char)}))))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6 d-flex align-items-center"},l.a.createElement("label",null," Password "),l.a.createElement("span",null," (leave blank if you don 't want to change it)")),l.a.createElement("div",{className:"col-md-6"},l.a.createElement(ue.b,{type:"password",name:"password",className:"form-control",onBlur:r,onChange:n,value:a.password}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6 d-flex align-items-end"},l.a.createElement("label",null," Password Confirmation ")),l.a.createElement("div",{className:"col-md-6"},l.a.createElement(ue.b,{type:"password",name:"password_confirmation",className:"form-control",onBlur:r,onChange:n,value:a.password_confirmation}),l.a.createElement(de,{name:"password_confirmation"}))),l.a.createElement("br",null),l.a.createElement("button",{className:"btn btn-primary m-2 btn-block",type:"submit",disabled:s},"Update"))})),l.a.createElement("br",null),l.a.createElement("hr",null),l.a.createElement("h3",{className:"text-center"}," Cancel my account "),l.a.createElement("p",{className:"text-center"}," Unhappy ? "),l.a.createElement("div",{className:"text-center"},l.a.createElement("button",{className:"btn btn-danger m-2",type:"submit"},"Cancel my account"))))),l.a.createElement("br",null)):l.a.createElement(o.a,{to:"/profile"}," ")}}]),t}(n.Component),ia=Object(ue.e)((function(e){return{countries:e.extras.countries}}))(oa),ma=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={booking:{}},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"cancelUserRequest",value:function(e){(function(e){var t={ids:e.map((function(e){return e.id}))};return f()({method:"put",url:"".concat(y,"/tickets/cancel_request"),data:t,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.token)}})})(e).then((function(e){console.log(e),Qe()({title:"Tickets cancellation!",text:"Your ticket cancellation is in process",icon:"success",button:"Continue!"}),Ee.push("/bookings")})).catch((function(e){console.log(e),Qe()({title:"Tickets cancellation!",text:e.message,icon:"error",button:"Continue!"})}))}},{key:"componentDidMount",value:function(){var e=this;void 0!==this.props.location.state?this.setState({booking:this.props.location.state.booking}):w(this.props.match.params.id).then((function(t){e.setState({booking:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.booking,a={};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"container bg-white"},l.a.createElement("div",{className:"d-flex justify-content-between p-2"},l.a.createElement("h3",{className:"text-center text-success"}," Tickets Details "),l.a.createElement("span",{className:"text-primary text-bold"}," EDIT ")),void 0!==t.booking_transaction&&l.a.createElement("div",null,l.a.createElement("div",{className:""},l.a.createElement("div",null," Outbound PNR No - ",t.pnr_no," "),l.a.createElement("div",null," Invoice No - ",t.booking_transaction.idx," "),l.a.createElement("div",null," Reporting Time - ",t.flight_date," "))),l.a.createElement("div",{className:"flight-details"},l.a.createElement("div",{className:"header d-flex justify-content-between align-items-center text-small text-muted"},l.a.createElement("span",null,l.a.createElement("img",{src:a.AirlineLogo,className:"p-2"}),l.a.createElement("div",{className:"text-center"},a.FlightNo,"(",a.FlightClassCode,")")),l.a.createElement("span",{className:""}," ",a.FlightDate," "),l.a.createElement("span",{className:"text-center"},"Class: ",t.class_code,l.a.createElement("div",{className:"text-bold text-success"},B(a.Refundable)),l.a.createElement("div",null,"FreeBaggage: ",a.FreeBaggage))),l.a.createElement("hr",null),l.a.createElement("div",{className:"body"},l.a.createElement("div",{class:"d-flex justify-content-between align-items-center"},l.a.createElement("span",{className:"text-center"},a.DepartureTime," ",l.a.createElement("div",{className:"text-bold"},a.Departure)),l.a.createElement("span",{class:"text-small text-muted"},a.duration," min"),l.a.createElement("span",{className:"text-center"},a.ArrivalTime,l.a.createElement("div",{className:"text-bold"},a.Arrival))),l.a.createElement("div",{className:"text-center text-small text-muted"}),l.a.createElement("hr",null),l.a.createElement("div",null,l.a.createElement("span",{className:"text-center p-3"},l.a.createElement("div",{className:"text-bold"},"Total Fare: ",a.Currency," ",t.total_fare),l.a.createElement("div",{className:"text-small text-muted"},"(",t.adult," Adult, ",t.child," Child)")),l.a.createElement("ul",{className:"text-muted text-small"},t.adult>0&&l.a.createElement("li",null,"Base Fare (1 Adult): ",a.Currency," ",a.AdultFare," x (",t.adult,")"),t.child>0&&l.a.createElement("li",null,"Base Fare (1 Child): ",a.Currency," ",a.ChildFare," x (",t.child,")"),l.a.createElement("li",null,"Fuel Surcharge: ",a.Currency," ",a.FuelSurcharge," x (",t.adult," +"," ",t.child,")"),l.a.createElement("li",null,"Tax: ",a.Currency," ",a.Tax," x (",t.adult," + ",t.child,")"))))),l.a.createElement("h5",{className:"d-inline "}),l.a.createElement("div",{className:"d-flex justify-content-between p-2"},l.a.createElement("span",{class:"text-bold"},"Passenger Details"),l.a.createElement("span",{className:"text-primary text-bold"}," Cancel Tickets ")),l.a.createElement("div",{class:"d-flex justify-content-end"},l.a.createElement("input",{type:"checkbox",onChange:function(){return e.cancelUserRequest(t.passengers)},label:"All"}),l.a.createElement("label",null,"All")),l.a.createElement("div",{className:"passenger-details container p-0"},l.a.createElement("table",{class:"table"},l.a.createElement("thead",null,l.a.createElement("tr",{className:"text-center"},l.a.createElement("th",null,"Ticket"),l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Type"),l.a.createElement("th",null,"Nationality"),l.a.createElement("th",null," Cancel "))),l.a.createElement("tbody",null,void 0!==t.passengers&&t.passengers.map((function(t){return l.a.createElement("tr",{className:"text-center"},l.a.createElement("td",{className:""},t.ticket_no),l.a.createElement("td",{className:""},t.title," ",t.first_name," ",t.last_name),l.a.createElement("td",{className:""},t.passenger_type),l.a.createElement("td",{className:""},t.nationality),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",onChange:function(){return e.cancelUserRequest([t])},label:"All"})))}))))),l.a.createElement("div",{className:"text-center"},l.a.createElement(Et.a,{className:"btn btn-primary",to:{pathname:"/ticket/".concat(t.ruid),state:{booking:t}}},"View ticket"))))}}]),t}(n.Component),ua=a(666),da=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={booking:{}},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;void 0!==this.props.location.state?this.setState({booking:this.props.location.state.booking}):w(this.props.match.params.id).then((function(t){e.setState({booking:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state.booking;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"container-fluid p-0"},l.a.createElement("div",{className:"col-md-6 mx-auto bg-white",id:"search-form pdf-mar"},l.a.createElement("div",{className:"d-flex justify-content-between py-3"},l.a.createElement("div",{className:""},l.a.createElement("h3",null,"Booking Nepal")),l.a.createElement("div",{className:""},l.a.createElement("h4",{className:"text-success"},"E-Ticket")),l.a.createElement("div",{className:""},l.a.createElement(ua.a,{width:"35px",height:"37px",src:e.airline_logo}),l.a.createElement("span",{className:" "},"airline "))),l.a.createElement("div",{className:"p-3"},l.a.createElement("h5",{className:"text-center text-info "},"Tickets operated and managed by Booking Nepal Travels and Tours Pvt. Ltd"),l.a.createElement("h5",{className:"text-uppercase text-center "},"This ",l.a.createElement("strong",null,"electronic ticket")," is not transferable and must be present at check-in. Please present id card and all necessary travel documents.")),void 0!==e.booking_transaction&&l.a.createElement("div",null,l.a.createElement("div",{className:""},"Invoice No -",l.a.createElement("span",null,e.booking_transaction.idx)),l.a.createElement("div",{className:""},"Date -",l.a.createElement("span",null,xe()(e.booking_transaction.created_at).format("D MMMM, YYYY"))),l.a.createElement("div",{className:""},"Reporting Time - ",l.a.createElement("span",null,e.flight_date))),l.a.createElement("div",{className:"d-flex justify-content-between py-3"},l.a.createElement("h5",null,"Outbound PNR No -",l.a.createElement("span",null,e.pnr_no)),l.a.createElement("h5",null,"Refundable -",e.refundable&&l.a.createElement("span",null,'"Yes"'),!e.refundable&&l.a.createElement("span",null,' "No" '))),l.a.createElement("table",{className:"table table-bg table-bordered table-sm"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Passenger Name"),l.a.createElement("th",null,"Nationality"),l.a.createElement("th",null,"Passenger Type"),l.a.createElement("th",null,"Ticket No"),l.a.createElement("th",null,"Status"))),l.a.createElement("tbody",null,void 0!==e.passengers&&e.passengers.map((function(e){return l.a.createElement("tr",null,l.a.createElement("td",null," ",e.title+" "+e.first_name," "),l.a.createElement("td",null," ",e.nationality," "),l.a.createElement("td",null," ",e.passenger_type," "),l.a.createElement("td",null," ",e.ticket_no," "),l.a.createElement("td",null," ",e.passenger_status," "))}))))),l.a.createElement("div",{className:"col-md-6 ml-auto mr-auto",id:"search-form1"},l.a.createElement("h1",{className:"text-center "},"Booking Details"),l.a.createElement("table",{className:"table table-responsive table-bg table-bordered table-sm"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Sector"),l.a.createElement("th",null,"Flight No"),l.a.createElement("th",null,"Flight Time"),l.a.createElement("th",null,"Class"),l.a.createElement("th",null,"Flight Charge"),l.a.createElement("th",null,"Status"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,e.sector),l.a.createElement("td",null,e.flight_no),l.a.createElement("td",null,e.flight_date),l.a.createElement("td",null,e.class_code),l.a.createElement("td",null,e.total_fare),l.a.createElement("td",null,e.status))))),l.a.createElement("h4",{className:"col-6 ml-auto mr-auto "}),l.a.createElement("div",{className:"text-center"},l.a.createElement("span",{onClick:function(){return t=e.ruid,f()({url:"".concat(N,"/").concat(t,"/download_ticket.pdf"),method:"GET",responseType:"blob",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.token)}}).then((function(e){var t=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=t,a.setAttribute("download","file.pdf"),document.body.appendChild(a),a.click()}));var t},className:"btn btn-success"},"Print ticket"))))}}]),t}(n.Component),pa=function(e){var t=e.bookings;return l.a.createElement("div",null,l.a.createElement(it.a,null,l.a.createElement(it.a.Body,null,l.a.createElement(it.a.Title,null,"BookingDetails"),t.map((function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-3"},"Flight Id - ",l.a.createElement("p",null,e.flight_id)),l.a.createElement("div",{className:"col-3"},"Return Flight Id - ",l.a.createElement("p",null,e.return_flight_id)),l.a.createElement("div",{className:"col-3"},"User Id - ",l.a.createElement("p",null,e.user_id)),l.a.createElement("div",{className:"col-3"},"Contact Name - ",l.a.createElement("p",null,e.contact_name))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-3"},"Mobile No - ",l.a.createElement("p",null,e.mobile_no)),l.a.createElement("div",{className:"col-3"},"email - ",l.a.createElement("p",null,e.email)),l.a.createElement("div",{className:"col-3"},"Pnr No - ",l.a.createElement("p",null,e.pnr_no)),l.a.createElement("div",{className:"col-3"},"Created at - ",l.a.createElement("p",null,e.created_at))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-3"},l.a.createElement("p",null,e.airline)),l.a.createElement("div",{className:"col-3"},l.a.createElement("p",null,e.flight_no)),l.a.createElement("div",{className:"col-3"},l.a.createElement("p",null,e.booking_date_time)),l.a.createElement("div",{className:"col-3"},l.a.createElement("p",null,e.departure_flight_time))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-3"},"Arrival - ",l.a.createElement("p",null,e.arrival)),l.a.createElement("div",{className:"col-3"},"Arrival time - ",l.a.createElement("p",null,e.arrival_time)),l.a.createElement("div",{className:"col-3"},"Sector - ",l.a.createElement("p",null,e.sector)),l.a.createElement("div",{className:"col-3"},"Departure - ",l.a.createElement("p",null,e.departure))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-3"},"Class code - ",l.a.createElement("p",null,e.class_code)),l.a.createElement("div",{className:"col-3"},"Total fare - ",l.a.createElement("p",null,e.total_fare)),l.a.createElement("div",{className:"col-3"},"Refundable - ",l.a.createElement("p",null,e.refundable)),l.a.createElement("div",{className:"col-3"},"Status - ",l.a.createElement("p",null,e.status))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-3"},"Transaction id - ",l.a.createElement("p",null,e.booking_transaction_id)),l.a.createElement("div",{className:"col-3"},"Baggage - ",l.a.createElement("p",null,e.free_baggage)),l.a.createElement("div",{className:"col-3"},"Reporting time - ",l.a.createElement("p",null,e.reporting_time))))})))))},ha=function(e){var t=e.response;return l.a.createElement("div",null,JSON.stringify(t))},Ea=function(e){var t=e.location.state.transaction,a=l.a.useState(!1),n=Object(se.a)(a,2),r=(n[0],n[1],l.a.useState("user")),c=Object(se.a)(r,2);c[0],c[1];return console.log(t),l.a.createElement("div",null,l.a.createElement(L.a,{variant:"primary"},"Transaction Details"))};function fa(){return function(){var e=localStorage.getItem("token");e&&(f.a.defaults.headers.common.Authorization=e)}(),f()({method:"get",url:"".concat(y,"/payments"),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.token)}})}var ba=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={transactions:[],selectedTransaction:null,key:"user"},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"onTransactionSelect",value:function(e){this.setState({selectedTransaction:e})}},{key:"setKey",value:function(e){this.setState({key:e})}},{key:"componentDidMount",value:function(){F(document,f.a),this.fetchUserTransaction()}},{key:"fetchUserTransaction",value:function(){var e=this;fa().then((function(t){console.log(t),e.setState({transactions:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state,a=(t.show,t.key),n=t.selectedTransaction;return l.a.createElement(l.a.Fragment,null,null!==this.state.transactions&&l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"col-md-8 col-md-offset-2",id:"search-form"},l.a.createElement("h5",{className:"text-center"},"Transactionlist"),l.a.createElement("table",{className:"table table-striped table-bordered"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Transaction Invoice"),l.a.createElement("th",null,"state"),l.a.createElement("th",null,"Amount"),l.a.createElement("th",null,"Details"))),l.a.createElement("tbody",null,this.state.transactions.map((function(t){return l.a.createElement("tr",null,l.a.createElement("td",null,t.idx),l.a.createElement("td",null,t.state),l.a.createElement("td",null,t.amount),l.a.createElement("td",null,l.a.createElement("span",{className:"btn btn-primary",onClick:function(){return e.onTransactionSelect(t)}},"Transaction details")))})))))),l.a.createElement(G,{title:"Transaction Details",buttonLabel:"close",show:null!==n,toggle:function(){return e.onTransactionSelect(null)},onSuccess:function(){return e.onTransactionSelect(null)}},null!==n&&l.a.createElement(xt.a,{id:"controlled-tab-example",activeKey:a,onSelect:function(t){return e.setKey(t)}},l.a.createElement(St.a,{eventKey:"user",title:"user"},l.a.createElement(Pt,{user:n.user})),l.a.createElement(St.a,{eventKey:"bookings",title:"bookings"},l.a.createElement(pa,{bookings:n.bookings})),l.a.createElement(St.a,{eventKey:"response",title:"response"},l.a.createElement(ha,{response:n.response})))))}}]),t}(n.Component),ga=function(){var e=pe.d().shape({password:pe.f().required("Required"),password_confirmation:pe.f().oneOf([pe.e("password"),null],"Passwords don't match!").required("Required")});return l.a.createElement(ue.d,{initialValues:{name:"",email:"",phone_number:"",password:"",password_confirmation:"",role_id:"1"},validationSchema:e,onSubmit:function(e,t){var a=t.setSubmitting,n=(t.setStatus,{user:{name:e.name,email:e.email,phone_number:e.phone_number,password:e.password,password_confirmation:e.password_confirmation,role_id:e.role_id}});Wt(n).then((function(e){a(!1),console.log(e.data.message),Qe()({title:"User Created!",text:"User created successfully!",icon:"success",button:"Continue!"}),window.location.reload()})).catch((function(e){a(!1),console.log(e)}))}},(function(e){var t=e.values,a=(e.errors,e.touched,e.handleChange),n=e.handleBlur,r=e.handleSubmit,c=e.isSubmitting;e.setFieldValue;return l.a.createElement("form",{onSubmit:r,className:"form-wrap"},l.a.createElement("div",{className:"d-flex justify-content-around p-4 align-items-center"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-body"},l.a.createElement("h2",null,"Create User"),l.a.createElement("div",{className:"field"},l.a.createElement("label",null,"Full Name"),l.a.createElement(ue.b,{type:"text",name:"name",className:"form-control",onBlur:n,onChange:a,value:t.name})),l.a.createElement("div",{className:"field"},l.a.createElement("label",null,"Email"),l.a.createElement(ue.b,{type:"text",name:"email",className:"form-control",onBlur:n,onChange:a,value:t.email})),l.a.createElement("div",{className:"field"},l.a.createElement("label",null,"Mobile Number"),l.a.createElement(ue.b,{type:"text",name:"phone_number",className:"form-control",onBlur:n,onChange:a,value:t.phone_number})),l.a.createElement("div",{className:"field"},l.a.createElement("label",null,"Password"),l.a.createElement(ue.b,{type:"password",name:"password",className:"form-control",onBlur:n,onChange:a,value:t.password})),l.a.createElement("div",{className:"field"},l.a.createElement("label",null,"Password Confirmation"),l.a.createElement(ue.b,{type:"password",name:"password_confirmation",className:"form-control",onBlur:n,onChange:a,value:t.password_confirmation}),l.a.createElement(de,{name:"password_confirmation"})),l.a.createElement("div",{className:"field"},l.a.createElement("label",null,"Role"),l.a.createElement(ue.b,{as:"select",name:"role_id",id:"role_id",className:"form-control",onBlur:n,onChange:a,value:t.role_id},l.a.createElement("option",{value:"1"}," Admin "),l.a.createElement("option",{value:"2"}," Support "),l.a.createElement("option",{value:"3"}," General "))),l.a.createElement("button",{className:"btn btn-primary m-2",type:"submit",disabled:c},"Submit")))))}))},va=a(97),Na=function(e){var t=e.data;return console.log("Formatted Data",t),l.a.createElement(va.c,{striped:!0,bordered:!0,hover:!0,data:t})},ya=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).fetchUsers=function(){f()({method:"get",url:"".concat(C,"/users"),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.token)}}).then((function(e){console.log("List of Users",e.data),a.setState({users:e.data})})).catch((function(e){console.log(e),a.setState({errors:e})}))},a.state={users:[],editing:!1,selectedUser:null},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){F(document,f.a),this.fetchUsers()}},{key:"render",value:function(){var e=this.state.users;return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:""},l.a.createElement("h5",null,"Users"),l.a.createElement("table",{className:"table table-striped table-hover table-sm",ref:"main"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"ID"),l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Email"),l.a.createElement("th",null,"Role"),l.a.createElement("th",null,"Mobile Number"),l.a.createElement("th",null,"Actions"))),l.a.createElement("tbody",null,e.map((function(e){return l.a.createElement("tr",null,l.a.createElement("td",null,e.id),l.a.createElement("td",null,e.name),l.a.createElement("td",null,e.email," "),l.a.createElement("td",null,e.role),l.a.createElement("td",null,e.phone_number),l.a.createElement("td",null,l.a.createElement(Et.a,{to:{pathname:"/users/edit",state:{user:e}}}," ","Edit"," ")),l.a.createElement("td",null,l.a.createElement(Et.a,{to:{pathname:"/admin/email",state:{user:e}}},"Contact")))}))))),l.a.createElement(Na,{data:A(e)}))}}]),t}(n.Component),ka=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={bookings:[]},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){F(document,f.a),this.fetchBookings("q[status_eq]=processing")}},{key:"fetchBookings",value:function(e){var t=this;j(e).then((function(e){console.log(e),t.setState({bookings:e.data})})).catch((function(e){console.log(e)}))}},{key:"adminCancelRequest",value:function(e){var t,a=this;(t=e,f()({method:"put",url:"".concat(N,"/admin/tickets/").concat(t,"/cancel"),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.token)}})).then((function(e){console.log(e),swal({title:"Tickets cancellation!",text:"Your ticket is cancelled",icon:"success",button:"Continue!"}),a.fetchBookings("q[status_eq]=processing")})).catch((function(e){console.log(e),swal({title:"Tickets cancellation!",text:e.message,icon:"error",button:"Continue!"})}))}},{key:"adminIgnoreRequest",value:function(e){var t,a=this;(t=e,f()({method:"put",url:"".concat(N,"/admin/tickets/").concat(t,"/ignore"),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.token)}})).then((function(e){console.log(e),swal({title:"Tickets Ignored!",text:e.data.message,icon:"success",button:"Continue!"}),a.fetchBookings("q[status_eq]=processing")})).catch((function(e){console.log(e),swal({title:"Tickets cancellation!",text:e.message,icon:"error",button:"Continue!"})}))}},{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,null!==this.state.bookings&&l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"col-md-9 ml-auto mr-auto",id:"search-form1"},l.a.createElement("h3",{className:"text-success"}," Cancel Request "),l.a.createElement("table",{className:"table table-striped table-sm"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null," Passenger Name ")," ",l.a.createElement("th",null," Nationality ")," ",l.a.createElement("th",null," Passenger Type "),l.a.createElement("th",null," Ticket No ")," ",l.a.createElement("th",null," Cancel status "))),l.a.createElement("tbody",null,this.state.bookings.map((function(t){return t.passengers.map((function(a){if("processing"===a.passenger_status)return l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement(Et.a,{to:{pathname:"/bookings",state:{booking:t}}},a.title+" "+a.first_name)),l.a.createElement("td",null," ",a.nationality," "),l.a.createElement("td",null," ",a.passenger_type," "),l.a.createElement("td",null," ",a.ticket_no," "),l.a.createElement("td",null," ",a.passenger_status," "),"processing"===a.passenger_status&&l.a.createElement("td",null,l.a.createElement("div",null,l.a.createElement("span",{className:"btn  btn-danger",onClick:function(){return e.adminCancelRequest(a.id)}},"cancel"),l.a.createElement("span",{className:"btn btn-secondary",onClick:function(){return e.adminIgnoreRequest(a.id)}},"ignore"))),"cancelled"===a.passenger_status&&l.a.createElement("td",null,l.a.createElement("p",{className:"text-danger text-center font-weight-bolder text-lg mt-2"},"Ticket Cancelled")))}))})))))))}}]),t}(n.Component),xa=a(667),Sa=function(e){var t=e.location.state.user;return l.a.createElement("div",null,l.a.createElement("div",{className:"container"},l.a.createElement("h5",null,"User Information"),l.a.createElement("table",{className:"table table-striped table-hover table-sm"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"ID"),l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Email"),l.a.createElement("th",null,"Role"),l.a.createElement("th",null,"Mobile Number"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,t.id),l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.email," "),l.a.createElement("td",null,t.role),l.a.createElement("td",null,t.phone_number))))),l.a.createElement(ue.d,{initialValues:{description:"",subject:"",email:t.email},onSubmit:function(e,t){t.setSubmitting;var a,n={user:{email:e.email,description:e.description,subject:e.subject}};(a=n,f()({method:"post",url:"".concat(N,"/admin/user_email"),data:a,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.token)}})).then((function(e){console.log(e),Qe()({title:"Email Sent!",text:e.message,icon:"success",button:"Continue!"})})).catch((function(e){console.log(e),Qe()({title:"Tickets cancellation!",text:e.message,icon:"error",button:"Continue!"})}))}},(function(e){var t=e.values,a=(e.errors,e.touched,e.handleChange),n=e.handleBlur,r=e.handleSubmit,c=e.isSubmitting;return l.a.createElement("form",{onSubmit:r},l.a.createElement("div",{className:"container mt-5 pt-5"},l.a.createElement("div",{className:"row ml-5 pl-5"},l.a.createElement("label",{htmlFor:"",className:"font-weight-bold"},"subject")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"offset-1 col-9"},l.a.createElement("input",{type:"text",name:"subject",label:"subject",className:"mb-3 col-12",placeholder:"Email subject",defaultValue:"Email subject",onChange:a,onBlur:n,value:t.subject}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"offset-1 col-9"},l.a.createElement(xa.a,{type:"text",className:"mb-3",label:"Description",multiline:!0,rows:"4",style:{width:"825px"},variant:"outlined",onChange:a,onBlur:n,defaultValue:"Email Text",name:"description",value:t.description}),l.a.createElement("button",{type:"submit",disabled:c},"Submit")))))})))},Ca=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={bookings:[]},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){F(document,f.a),this.fetchBookings()}},{key:"fetchBookings",value:function(e){var t=this;j(e).then((function(e){console.log(e),t.setState({bookings:e.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row my-3"},l.a.createElement("div",{className:"col-7"},l.a.createElement("button",{onClick:function(){return e.fetchBookings("q[status_eq]=pending")},className:"btn btn-primary mr-1"},"pending"),l.a.createElement("button",{onClick:function(){return e.fetchBookings("q[status_eq]=verified")},className:"btn btn-primary mr-1"},"verified"),l.a.createElement("button",{onClick:function(){return e.fetchBookings("q[status_eq]=completed")},className:"btn btn-primary mr-1"},"completed"),l.a.createElement("button",{onClick:function(){return e.fetchBookings("q[status_eq]=processing")},className:"btn btn-primary mr-1"},"processing"),l.a.createElement("button",{onClick:function(){return e.fetchBookings("q[status_eq]=cancelled")},className:"btn btn-primary"},"cancelled")),l.a.createElement("div",{className:"offset-3 col-2"},l.a.createElement(Et.a,{to:"/admin/update_booking",className:"btn btn-danger"},"Cancel Request"))),l.a.createElement(pa,{bookings:this.state.bookings}))}}]),t}(n.Component),Oa=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={users:"",bookings:"",transactions:""},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.fetchAdminDetails()}},{key:"fetchAdminDetails",value:function(){var e=this;f()({method:"get",url:"".concat(N,"/admin/dashboard"),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.token)}}).then((function(t){console.log(t.data),e.setState({users:t.data.users_count,bookings:t.data.bookings_count,transactions:t.data.transactions_count})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state,t=e.users,a=e.bookings,n=e.transactions;return l.a.createElement("div",{className:"dashboard container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"widget col-sm-12 col-md-4"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"text-center"},l.a.createElement("span",{className:"count"},t),l.a.createElement("hr",null),l.a.createElement(Et.a,{to:"/admin/users_list",className:"action"},"View all Users"))))),l.a.createElement("div",{className:"widget col-sm-12 col-md-4"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"text-center"},l.a.createElement("span",{className:"count"},a),l.a.createElement("hr",null),l.a.createElement(Et.a,{to:"/admin/dashboard_bookings",className:"action"},"View all bookings"))))),l.a.createElement("div",{className:"widget col-sm-12 col-md-4"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"text-center"},l.a.createElement("span",{className:"count"},n),l.a.createElement("hr",null),l.a.createElement(Et.a,{to:"/admin/transaction_list",className:"action"},"View all transactions")))))))}}]),t}(n.Component),wa=function(e){var t=e.items;return l.a.createElement("div",{className:"side-nav"},t.map((function(e){var t=e.label,a=e.name,n=e.details,r=e.icon,c=e.value,s=e.link;Object(_.a)(e,["label","name","details","icon","value","link"]);return l.a.createElement("div",{className:"sidebar-item d-flex align-items-center",key:a,onClick:function(){Ee.push(s)}},l.a.createElement("i",{className:"".concat(r," p-2 text-primary")}),l.a.createElement("div",null,l.a.createElement("span",null,t),l.a.createElement("span",{className:"small text-muted",style:{display:"table"}},n)),l.a.createElement("span",{className:"text-bold ml-auto"},c))})))},ja=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={ActiveComponent:ya},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.state.ActiveComponent;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-0 col-md-2 p-0"},l.a.createElement(wa,{items:[{icon:"icon-home",name:"users",label:"Users",value:"",link:"/"},{icon:"icon-beamed-note",name:"bookings",label:"Bookings",value:"",link:"/bookings"},{icon:"icon-user",name:"transactions",label:"Transactions",value:"",link:"/transactions"},{icon:"icon-calculator",name:"inquiries",label:"Inquiries",link:"/profile"}]})),l.a.createElement("div",{className:"col-12 col-md-10 p-4"},l.a.createElement(Oa,null),l.a.createElement(e,null))))}}]),t}(n.Component),Ta=function(e){function t(e){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).call(this,e))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;void 0!==localStorage.token&&void 0==this.props.currentUser.email&&Bt().then((function(t){e.props.loginUser(t.data.user)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.props,t=e.component,a=(e.currentUser,e.location),n=Object(_.a)(e,["component","currentUser","location"]),r=void 0!==localStorage.token;return l.a.createElement(o.b,Object.assign({},n,{render:function(e){return r?l.a.createElement(t,e):l.a.createElement(o.a,{to:{pathname:"/login",state:{from:a}}})}}))}}]),t}(n.Component),_a={loginUser:Rt},Da=Object(s.b)((function(e){return{currentUser:e.userStore.currentUser}}),_a)(Ta),Fa=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return l.a.createElement("div",{className:"container p-4"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-body"},"Become a Partner")))}}]),t}(n.Component);var Ba=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.countries;return l.a.createElement("div",{className:"container p-4"},l.a.createElement(ue.d,{initialValues:{name:"Anup",email_address:"anup.singh2071@gmail.com",nationality:"nepal",phone:"2309",preferred_date:"dfjl",preferred_time:"dfjl",comments:"djfla",no_of_pax:10,user_id:1,package_id:1},onSubmit:function(t,a){var n=a.setSubmitting;e.setState({searching:!0}),console.log(t),e.props.setSearchDetails(t),O(t).then((function(e){n(!1),Ee.push("/")})).catch((function(e){console.log("Search Flight Error",e),n(!1),swal({title:"Sorry!",text:"Something went wrong",icon:"error",button:"Try Again!"})}))}},(function(e){var a=e.values,n=(e.errors,e.touched,e.handleChange),r=e.handleBlur,c=e.handleSubmit,s=e.isSubmitting,o=e.setFieldValue;return l.a.createElement("form",{onSubmit:c,autoComplete:"off"},l.a.createElement("div",{className:"input-section"},l.a.createElement("div",{className:"field-box"},l.a.createElement("label",null,"Going from"),l.a.createElement(ve,{icon:"icon-paper-plane",iconPosition:"left"},l.a.createElement(ue.b,{name:"name",className:"form-control",onBlur:r,onChange:n,value:a.name,defaultValue:""})),l.a.createElement(de,{name:"name"})),l.a.createElement("div",{className:"field-box"},l.a.createElement("label",null,"Going from"),l.a.createElement(ve,{icon:"icon-paper-plane",iconPosition:"left"},l.a.createElement(ue.b,{name:"name",className:"form-control",onBlur:r,onChange:n,value:a.name,defaultValue:""})),l.a.createElement(de,{name:"name"})),l.a.createElement("div",{className:"field-box"},l.a.createElement("label",null,"Going from"),l.a.createElement(ve,{icon:"icon-paper-plane",iconPosition:"left"},l.a.createElement(ue.b,{name:"name",className:"form-control",onBlur:r,onChange:n,value:a.name,defaultValue:""})),l.a.createElement(de,{name:"name"})),l.a.createElement("div",{className:"field-box"},l.a.createElement("label",null,"Going from"),l.a.createElement(ve,{icon:"icon-paper-plane",iconPosition:"left"},l.a.createElement(ue.b,{name:"name",className:"form-control",onBlur:r,onChange:n,value:a.name,defaultValue:""})),l.a.createElement(de,{name:"name"})),l.a.createElement("div",{className:"field-box"},l.a.createElement("label",null,"Going from"),l.a.createElement(ve,{icon:"icon-paper-plane",iconPosition:"left"},l.a.createElement(ue.b,{name:"name",className:"form-control",onBlur:r,onChange:n,value:a.name,defaultValue:""})),l.a.createElement(de,{name:"name"})),l.a.createElement(be,{id:"intChild",type:"number",className:"m-1",title:"1 Person",onChange:function(e){return o("intChild",e)},value:1}),l.a.createElement("div",{className:"field-box"},l.a.createElement("label",{htmlFor:""},"Nationality"),l.a.createElement(Te.a,{className:"form-control",name:"nationality",placeholder:"Select Country",onBlur:r,onChange:function(e,t){o("nationality",t.value)},value:a.strNationality,fluid:!0,search:!0,selection:!0,options:t.map((function(e){return{key:e.id,value:e.country_char,flag:e.country_char.toLowerCase(),text:e.name}}))}),l.a.createElement(de,{name:"nationality"}))),l.a.createElement("div",{class:"text-center"},l.a.createElement("button",{className:"search-btn btn btn-secondary m-2",type:"submit",disabled:s},"Submit")))})))}}]),t}(n.Component),Aa=Object(s.b)((function(e){return{countries:e.extras.countries}}),{})(Ba),Ua=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={aPackage:{name:"Chitlang Overnight Package (In Tent/Cottage) without Transportation(1N/2D)",price:1500,location:"Chitlang",description:"Chitlang is a typical Nepali village with a beautiful setup of houses and hills all around surrounded by beautiful green forest, which consists of more than 160 species of birds and animals. Chitlang offers an amazing experience with a combination of natural beauty and cultural heritage. Chitlang is an ancient Newari settlement in Makwanpur district which is a part of the Narayani zone. It lies in the high level of the northern part of Makwanpur district and southern main path of the 8289ft Chandragiri hill.Famous as the gateway of motor cars carried on the back of people, Chitlang offers visitors an opportunity of village homestay where you can interact and get an insight into the rural life in Nepal. The hills of Chitlang are famous for hiking/trekking around Kathmandu. The largest man-made lake in Nepal, Kulekhani (also known as Indrasarovar) is a short walk of 40 minutes from Chitlang. Also, other important places include the oldest Cheese factory of Nepal and several temples.With cool weather and the hills all around, Chitlang is a fertile valley with a small stream flowing through the open verdant rice fields and vegetable patches. With the use of water from this stream for irrigation, the valley supplies a larger amount of vegetables to Kathmandu in the form of cabbage, radishes and more.The climate is ideal to visit at any time during the year with warm days and cool nights. Chitlang Village is a rare destination for visitors, Culturally, Naturally, Traditionally and Geographically. Nepal has different indigenous ethnic groups, among them, Tamang, Magar, Chhetri Braman, Newar, and Gurung lives in this area. And, at the end of your stay, you will be overwhelmed by the farewell that your new family will give you. If you never come this way again the village and its people will remain in your heart forever."},showInquiryForm:!1},a.fetchDetails=a.fetchDetails.bind(Object(p.a)(a)),a.onSelect=a.onSelect.bind(Object(p.a)(a)),a.onBook=a.onBook.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.fetchDetails()}},{key:"onSelect",value:function(){this.setState((function(e,t){return{showInquiryForm:!e.showInquiryForm}}))}},{key:"onBook",value:function(){console.log("TODO: On Package Book")}},{key:"fetchDetails",value:function(){var e,t;(e=this.props.match.params.id,t={},f()({method:"get",url:"".concat(y,"/packages/").concat(e),params:t,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.token)}})).then((function(e){this.setState({aPackage:e.data})})).catch((function(e){console.log("PACKAGE DETAILS ERROR",e)}))}},{key:"render",value:function(){var e=this.state.aPackage;return l.a.createElement("div",{className:"package-details container"},l.a.createElement("div",{className:"header card m-2"},l.a.createElement("img",{src:bt.a,alt:"Image",className:"img-responsive"}),l.a.createElement("div",{className:"card-body"},l.a.createElement("span",{className:"text-primary"},e.name)),l.a.createElement("div",{className:"d-flex"},l.a.createElement("div",{className:"ml-auto p-2"},l.a.createElement("strong",null,e.price),l.a.createElement("span",{onClick:this.onSelect,className:"btn btn-primary"},"Book")))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-9 p-0"},l.a.createElement("div",{className:"card m-2"},l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"text-primary"},"Description"),e.description))),l.a.createElement("div",{className:"col-3 p-0"},l.a.createElement("div",{className:"card m-2"},l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"card-header"},"Similar Packages"))))),l.a.createElement(G,{title:e.name,buttonLabel:"Cancel",show:this.state.showInquiryForm,toggle:this.onSelect,onSuccess:this.onBook},this.state.showInquiryForm&&l.a.createElement(Aa,null)))}}]),t}(n.Component);var Ra=l.a.createElement(o.d,null,l.a.createElement(o.b,{exact:!0,path:"/",component:Ct}),l.a.createElement(o.b,{path:"/login",component:la}),l.a.createElement(o.b,{path:"/signup",component:sa}),l.a.createElement(o.b,{path:"/flights",component:ze}),l.a.createElement(o.b,{path:"/hotels",component:_t}),l.a.createElement(o.b,{path:"/packages",component:Ft}),l.a.createElement(o.b,{path:"/package/:id",component:Ua}),l.a.createElement(o.b,{path:"/about",component:function(){return l.a.createElement("h2",null,"About Us")}}),l.a.createElement(Da,{path:"/book_flight",component:ht}),l.a.createElement(Da,{path:"/bookings",component:Ht}),l.a.createElement(Da,{path:"/transactions",component:zt}),l.a.createElement(Da,{path:"/records",component:zt}),l.a.createElement(Da,{path:"/profile",component:zt}),l.a.createElement(Da,{path:"/users/edit",component:ia}),l.a.createElement(Da,{path:"/booking_details/:id",component:ma}),l.a.createElement(Da,{path:"/ticket/:id",component:da}),l.a.createElement(Da,{path:"/partners/new",component:Fa}),l.a.createElement(Da,{path:"/admin/transaction_details",component:Ea}),l.a.createElement(Da,{path:"/admin/transaction_list",component:ba}),l.a.createElement(Da,{path:"/admin/create_user",component:ga}),l.a.createElement(Da,{path:"/admin/users_list",component:ya}),l.a.createElement(Da,{path:"/admin/update_booking",component:ka}),l.a.createElement(Da,{path:"/admin/dashboard_bookings",component:Ca}),l.a.createElement(Da,{path:"/admin/bookings",component:pa}),l.a.createElement(Da,{path:"/admin/email",component:Sa}),l.a.createElement(Da,{path:"/admin",component:ja}),l.a.createElement(o.b,{component:jt})),Ia=(a(615),function(){return l.a.createElement("footer",{id:"footer",role:"contentinfo"},l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},l.a.createElement("div",{className:""},l.a.createElement("div",{className:"footer-widget footer-links"},l.a.createElement("ul",{className:"footer-links"},l.a.createElement("li",{className:"d-md-inline px-2"},l.a.createElement("a",{href:"#"}," About Us")),l.a.createElement("li",{className:"d-md-inline px-2"},l.a.createElement("a",{href:"#"},"Privacy Policy")),l.a.createElement("li",{className:"d-md-inline px-2"},l.a.createElement("a",{href:"#"},"Terms & Conditions")),l.a.createElement("li",{className:"d-md-inline px-2"},l.a.createElement("a",{href:"#"},"Partner With Us")),l.a.createElement("li",{className:"d-md-inline px-2"},l.a.createElement("a",{href:"#"},"Blogs")),l.a.createElement("li",{className:"d-md-inline px-2"},l.a.createElement("a",{href:"#"},"Contact Us"))))),l.a.createElement("div",{className:""},l.a.createElement("span",{className:""},l.a.createElement("ul",{className:"footer-social-icons"},l.a.createElement("li",null,l.a.createElement("a",{href:"#"},l.a.createElement("i",{className:"icon-twitter"}))),l.a.createElement("li",null,l.a.createElement("a",{href:"#"},l.a.createElement("i",{className:"icon-facebook"}))),l.a.createElement("li",null,l.a.createElement("a",{href:"#"},l.a.createElement("i",{className:"icon-linkedin"}))),l.a.createElement("li",null,l.a.createElement("a",{href:"#"},l.a.createElement("i",{className:"icon-dribbble"}))))))),l.a.createElement("hr",{className:"m-0"}),l.a.createElement("div",{className:"d-flex justify-content-between align-items-center p-1"},l.a.createElement("small",{className:"block text-muted"},"\xa9 All rights reserved "))))});var La={loginUser:Rt,setCountries:function(e){return{type:"SET_COUNTRIES",payload:e}}},Pa=Object(s.b)((function(e){var t=e.userStore,a=e.extras;return{currentUser:t.currentUser,countries:a.countries}}),La)((function(e){return console.log("hello",Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BASE_URL:"http://167.172.13.22"})),Object(n.useEffect)((function(){console.log("Load App Component"),console.log("ENV VARIABLE",Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BASE_URL:"http://167.172.13.22"})),void 0!==localStorage.token&&void 0==e.currentUser.email&&Bt().then((function(t){e.loginUser(t.data.user)})).catch((function(e){console.log(e)})),0==e.countries.length&&f()({method:"get",url:"".concat(y,"/countries"),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.token)}}).then((function(t){console.log("Contries",t),e.setCountries(t.data)})).catch((function(e){console.log(e)}))})),l.a.createElement(o.c,{history:Ee},l.a.createElement(ta,null),Ra,l.a.createElement(Ia,null))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(s.a,{store:te},l.a.createElement(Pa,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[382,1,2]]]);
//# sourceMappingURL=main.e4e7a351.chunk.js.map